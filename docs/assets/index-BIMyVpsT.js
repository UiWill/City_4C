const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/LoginView-CJMFfF4X.js","assets/LoginView-CA699OqM.css","assets/RegisterView-6qLrL2Fj.js","assets/RegisterView-ChUp1AOh.css","assets/DashboardView-D4CDYzNK.js","assets/pt-BR-BZBxiJ23.js","assets/DashboardView-CUgNyBQK.css","assets/OccurrencesView-C7VzfkFh.js","assets/OccurrencesView-BT7gLBaw.css","assets/OccurrenceDetailView-Cs3sm9OQ.js","assets/OccurrenceDetailView-B1pcRLaB.css","assets/MapView-CRddw1u3.js","assets/MapView-DJThM-FL.css","assets/TagsView-DiQIOBH1.js","assets/TagsView-QmV37fGy.css","assets/AgentsView-W80XhR9a.js","assets/AgentsView-XPRoc_zj.css","assets/NotFoundView-LyuLYX6N.js","assets/NotFoundView-CYx2y4UV.css"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=s(n);fetch(n.href,i)}})();/**
* @vue/shared v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Kn(t){const e=Object.create(null);for(const s of t.split(","))e[s]=1;return s=>s in e}const ee={},_s=[],st=()=>{},Al=()=>!1,Mr=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Wn=t=>t.startsWith("onUpdate:"),ve=Object.assign,zn=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},xl=Object.prototype.hasOwnProperty,Z=(t,e)=>xl.call(t,e),M=Array.isArray,ms=t=>ir(t)==="[object Map]",Os=t=>ir(t)==="[object Set]",bi=t=>ir(t)==="[object Date]",q=t=>typeof t=="function",le=t=>typeof t=="string",rt=t=>typeof t=="symbol",ne=t=>t!==null&&typeof t=="object",Ko=t=>(ne(t)||q(t))&&q(t.then)&&q(t.catch),Wo=Object.prototype.toString,ir=t=>Wo.call(t),Rl=t=>ir(t).slice(8,-1),zo=t=>ir(t)==="[object Object]",Gn=t=>le(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ns=Kn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Nr=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Cl=/-(\w)/g,De=Nr(t=>t.replace(Cl,(e,s)=>s?s.toUpperCase():"")),jl=/\B([A-Z])/g,Gt=Nr(t=>t.replace(jl,"-$1").toLowerCase()),Br=Nr(t=>t.charAt(0).toUpperCase()+t.slice(1)),Xr=Nr(t=>t?`on${Br(t)}`:""),Ct=(t,e)=>!Object.is(t,e),wr=(t,...e)=>{for(let s=0;s<t.length;s++)t[s](...e)},yn=(t,e,s,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:s})},Or=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let wi;const Fr=()=>wi||(wi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Jn(t){if(M(t)){const e={};for(let s=0;s<t.length;s++){const r=t[s],n=le(r)?Ul(r):Jn(r);if(n)for(const i in n)e[i]=n[i]}return e}else if(le(t)||ne(t))return t}const Il=/;(?![^(]*\))/g,$l=/:([^]+)/,Ll=/\/\*[^]*?\*\//g;function Ul(t){const e={};return t.replace(Ll,"").split(Il).forEach(s=>{if(s){const r=s.split($l);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function vs(t){let e="";if(le(t))e=t;else if(M(t))for(let s=0;s<t.length;s++){const r=vs(t[s]);r&&(e+=r+" ")}else if(ne(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const Dl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Ml=Kn(Dl);function Go(t){return!!t||t===""}function Nl(t,e){if(t.length!==e.length)return!1;let s=!0;for(let r=0;s&&r<t.length;r++)s=zt(t[r],e[r]);return s}function zt(t,e){if(t===e)return!0;let s=bi(t),r=bi(e);if(s||r)return s&&r?t.getTime()===e.getTime():!1;if(s=rt(t),r=rt(e),s||r)return t===e;if(s=M(t),r=M(e),s||r)return s&&r?Nl(t,e):!1;if(s=ne(t),r=ne(e),s||r){if(!s||!r)return!1;const n=Object.keys(t).length,i=Object.keys(e).length;if(n!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!zt(t[o],e[o]))return!1}}return String(t)===String(e)}function Zn(t,e){return t.findIndex(s=>zt(s,e))}const Jo=t=>!!(t&&t.__v_isRef===!0),us=t=>le(t)?t:t==null?"":M(t)||ne(t)&&(t.toString===Wo||!q(t.toString))?Jo(t)?us(t.value):JSON.stringify(t,Zo,2):String(t),Zo=(t,e)=>Jo(e)?Zo(t,e.value):ms(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[r,n],i)=>(s[en(r,i)+" =>"]=n,s),{})}:Os(e)?{[`Set(${e.size})`]:[...e.values()].map(s=>en(s))}:rt(e)?en(e):ne(e)&&!M(e)&&!zo(e)?String(e):e,en=(t,e="")=>{var s;return rt(t)?`Symbol(${(s=t.description)!=null?s:e})`:t};/**
* @vue/reactivity v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ke;class Bl{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ke,!e&&ke&&(this.index=(ke.scopes||(ke.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].pause();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,s;if(this.scopes)for(e=0,s=this.scopes.length;e<s;e++)this.scopes[e].resume();for(e=0,s=this.effects.length;e<s;e++)this.effects[e].resume()}}run(e){if(this._active){const s=ke;try{return ke=this,e()}finally{ke=s}}}on(){++this._on===1&&(this.prevScope=ke,ke=this)}off(){this._on>0&&--this._on===0&&(ke=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let s,r;for(s=0,r=this.effects.length;s<r;s++)this.effects[s].stop();for(this.effects.length=0,s=0,r=this.cleanups.length;s<r;s++)this.cleanups[s]();if(this.cleanups.length=0,this.scopes){for(s=0,r=this.scopes.length;s<r;s++)this.scopes[s].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Fl(){return ke}let re;const tn=new WeakSet;class Qo{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ke&&ke.active&&ke.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,tn.has(this)&&(tn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Xo(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Si(this),ea(this);const e=re,s=Fe;re=this,Fe=!0;try{return this.fn()}finally{ta(this),re=e,Fe=s,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Xn(e);this.deps=this.depsTail=void 0,Si(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?tn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){bn(this)&&this.run()}get dirty(){return bn(this)}}let Yo=0,Bs,Fs;function Xo(t,e=!1){if(t.flags|=8,e){t.next=Fs,Fs=t;return}t.next=Bs,Bs=t}function Qn(){Yo++}function Yn(){if(--Yo>0)return;if(Fs){let e=Fs;for(Fs=void 0;e;){const s=e.next;e.next=void 0,e.flags&=-9,e=s}}let t;for(;Bs;){let e=Bs;for(Bs=void 0;e;){const s=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(r){t||(t=r)}e=s}}if(t)throw t}function ea(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function ta(t){let e,s=t.depsTail,r=s;for(;r;){const n=r.prevDep;r.version===-1?(r===s&&(s=n),Xn(r),ql(r)):e=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=n}t.deps=e,t.depsTail=s}function bn(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(sa(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function sa(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===Qs)||(t.globalVersion=Qs,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!bn(t))))return;t.flags|=2;const e=t.dep,s=re,r=Fe;re=t,Fe=!0;try{ea(t);const n=t.fn(t._value);(e.version===0||Ct(n,t._value))&&(t.flags|=128,t._value=n,e.version++)}catch(n){throw e.version++,n}finally{re=s,Fe=r,ta(t),t.flags&=-3}}function Xn(t,e=!1){const{dep:s,prevSub:r,nextSub:n}=t;if(r&&(r.nextSub=n,t.prevSub=void 0),n&&(n.prevSub=r,t.nextSub=void 0),s.subs===t&&(s.subs=r,!r&&s.computed)){s.computed.flags&=-5;for(let i=s.computed.deps;i;i=i.nextDep)Xn(i,!0)}!e&&!--s.sc&&s.map&&s.map.delete(s.key)}function ql(t){const{prevDep:e,nextDep:s}=t;e&&(e.nextDep=s,t.prevDep=void 0),s&&(s.prevDep=e,t.nextDep=void 0)}let Fe=!0;const ra=[];function _t(){ra.push(Fe),Fe=!1}function mt(){const t=ra.pop();Fe=t===void 0?!0:t}function Si(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const s=re;re=void 0;try{e()}finally{re=s}}}let Qs=0;class Vl{constructor(e,s){this.sub=e,this.dep=s,this.version=s.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class ei{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!re||!Fe||re===this.computed)return;let s=this.activeLink;if(s===void 0||s.sub!==re)s=this.activeLink=new Vl(re,this),re.deps?(s.prevDep=re.depsTail,re.depsTail.nextDep=s,re.depsTail=s):re.deps=re.depsTail=s,na(s);else if(s.version===-1&&(s.version=this.version,s.nextDep)){const r=s.nextDep;r.prevDep=s.prevDep,s.prevDep&&(s.prevDep.nextDep=r),s.prevDep=re.depsTail,s.nextDep=void 0,re.depsTail.nextDep=s,re.depsTail=s,re.deps===s&&(re.deps=r)}return s}trigger(e){this.version++,Qs++,this.notify(e)}notify(e){Qn();try{for(let s=this.subs;s;s=s.prevSub)s.sub.notify()&&s.sub.dep.notify()}finally{Yn()}}}function na(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let r=e.deps;r;r=r.nextDep)na(r)}const s=t.dep.subs;s!==t&&(t.prevSub=s,s&&(s.nextSub=t)),t.dep.subs=t}}const wn=new WeakMap,Wt=Symbol(""),Sn=Symbol(""),Ys=Symbol("");function ge(t,e,s){if(Fe&&re){let r=wn.get(t);r||wn.set(t,r=new Map);let n=r.get(s);n||(r.set(s,n=new ei),n.map=r,n.key=s),n.track()}}function dt(t,e,s,r,n,i){const o=wn.get(t);if(!o){Qs++;return}const a=l=>{l&&l.trigger()};if(Qn(),e==="clear")o.forEach(a);else{const l=M(t),c=l&&Gn(s);if(l&&s==="length"){const u=Number(r);o.forEach((h,d)=>{(d==="length"||d===Ys||!rt(d)&&d>=u)&&a(h)})}else switch((s!==void 0||o.has(void 0))&&a(o.get(s)),c&&a(o.get(Ys)),e){case"add":l?c&&a(o.get("length")):(a(o.get(Wt)),ms(t)&&a(o.get(Sn)));break;case"delete":l||(a(o.get(Wt)),ms(t)&&a(o.get(Sn)));break;case"set":ms(t)&&a(o.get(Wt));break}}Yn()}function Xt(t){const e=J(t);return e===t?e:(ge(e,"iterate",Ys),Le(t)?e:e.map(pe))}function qr(t){return ge(t=J(t),"iterate",Ys),t}const Hl={__proto__:null,[Symbol.iterator](){return sn(this,Symbol.iterator,pe)},concat(...t){return Xt(this).concat(...t.map(e=>M(e)?Xt(e):e))},entries(){return sn(this,"entries",t=>(t[1]=pe(t[1]),t))},every(t,e){return ot(this,"every",t,e,void 0,arguments)},filter(t,e){return ot(this,"filter",t,e,s=>s.map(pe),arguments)},find(t,e){return ot(this,"find",t,e,pe,arguments)},findIndex(t,e){return ot(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ot(this,"findLast",t,e,pe,arguments)},findLastIndex(t,e){return ot(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ot(this,"forEach",t,e,void 0,arguments)},includes(...t){return rn(this,"includes",t)},indexOf(...t){return rn(this,"indexOf",t)},join(t){return Xt(this).join(t)},lastIndexOf(...t){return rn(this,"lastIndexOf",t)},map(t,e){return ot(this,"map",t,e,void 0,arguments)},pop(){return Cs(this,"pop")},push(...t){return Cs(this,"push",t)},reduce(t,...e){return Ei(this,"reduce",t,e)},reduceRight(t,...e){return Ei(this,"reduceRight",t,e)},shift(){return Cs(this,"shift")},some(t,e){return ot(this,"some",t,e,void 0,arguments)},splice(...t){return Cs(this,"splice",t)},toReversed(){return Xt(this).toReversed()},toSorted(t){return Xt(this).toSorted(t)},toSpliced(...t){return Xt(this).toSpliced(...t)},unshift(...t){return Cs(this,"unshift",t)},values(){return sn(this,"values",pe)}};function sn(t,e,s){const r=qr(t),n=r[e]();return r!==t&&!Le(t)&&(n._next=n.next,n.next=()=>{const i=n._next();return i.value&&(i.value=s(i.value)),i}),n}const Kl=Array.prototype;function ot(t,e,s,r,n,i){const o=qr(t),a=o!==t&&!Le(t),l=o[e];if(l!==Kl[e]){const h=l.apply(t,i);return a?pe(h):h}let c=s;o!==t&&(a?c=function(h,d){return s.call(this,pe(h),d,t)}:s.length>2&&(c=function(h,d){return s.call(this,h,d,t)}));const u=l.call(o,c,r);return a&&n?n(u):u}function Ei(t,e,s,r){const n=qr(t);let i=s;return n!==t&&(Le(t)?s.length>3&&(i=function(o,a,l){return s.call(this,o,a,l,t)}):i=function(o,a,l){return s.call(this,o,pe(a),l,t)}),n[e](i,...r)}function rn(t,e,s){const r=J(t);ge(r,"iterate",Ys);const n=r[e](...s);return(n===-1||n===!1)&&ri(s[0])?(s[0]=J(s[0]),r[e](...s)):n}function Cs(t,e,s=[]){_t(),Qn();const r=J(t)[e].apply(t,s);return Yn(),mt(),r}const Wl=Kn("__proto__,__v_isRef,__isVue"),ia=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(rt));function zl(t){rt(t)||(t=String(t));const e=J(this);return ge(e,"has",t),e.hasOwnProperty(t)}class oa{constructor(e=!1,s=!1){this._isReadonly=e,this._isShallow=s}get(e,s,r){if(s==="__v_skip")return e.__v_skip;const n=this._isReadonly,i=this._isShallow;if(s==="__v_isReactive")return!n;if(s==="__v_isReadonly")return n;if(s==="__v_isShallow")return i;if(s==="__v_raw")return r===(n?i?rc:ua:i?ca:la).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=M(e);if(!n){let l;if(o&&(l=Hl[s]))return l;if(s==="hasOwnProperty")return zl}const a=Reflect.get(e,s,me(e)?e:r);return(rt(s)?ia.has(s):Wl(s))||(n||ge(e,"get",s),i)?a:me(a)?o&&Gn(s)?a:a.value:ne(a)?n?da(a):Vr(a):a}}class aa extends oa{constructor(e=!1){super(!1,e)}set(e,s,r,n){let i=e[s];if(!this._isShallow){const l=jt(i);if(!Le(r)&&!jt(r)&&(i=J(i),r=J(r)),!M(e)&&me(i)&&!me(r))return l?!1:(i.value=r,!0)}const o=M(e)&&Gn(s)?Number(s)<e.length:Z(e,s),a=Reflect.set(e,s,r,me(e)?e:n);return e===J(n)&&(o?Ct(r,i)&&dt(e,"set",s,r):dt(e,"add",s,r)),a}deleteProperty(e,s){const r=Z(e,s);e[s];const n=Reflect.deleteProperty(e,s);return n&&r&&dt(e,"delete",s,void 0),n}has(e,s){const r=Reflect.has(e,s);return(!rt(s)||!ia.has(s))&&ge(e,"has",s),r}ownKeys(e){return ge(e,"iterate",M(e)?"length":Wt),Reflect.ownKeys(e)}}class Gl extends oa{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const Jl=new aa,Zl=new Gl,Ql=new aa(!0);const En=t=>t,hr=t=>Reflect.getPrototypeOf(t);function Yl(t,e,s){return function(...r){const n=this.__v_raw,i=J(n),o=ms(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=n[t](...r),u=s?En:e?Ar:pe;return!e&&ge(i,"iterate",l?Sn:Wt),{next(){const{value:h,done:d}=c.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function dr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function Xl(t,e){const s={get(n){const i=this.__v_raw,o=J(i),a=J(n);t||(Ct(n,a)&&ge(o,"get",n),ge(o,"get",a));const{has:l}=hr(o),c=e?En:t?Ar:pe;if(l.call(o,n))return c(i.get(n));if(l.call(o,a))return c(i.get(a));i!==o&&i.get(n)},get size(){const n=this.__v_raw;return!t&&ge(J(n),"iterate",Wt),Reflect.get(n,"size",n)},has(n){const i=this.__v_raw,o=J(i),a=J(n);return t||(Ct(n,a)&&ge(o,"has",n),ge(o,"has",a)),n===a?i.has(n):i.has(n)||i.has(a)},forEach(n,i){const o=this,a=o.__v_raw,l=J(a),c=e?En:t?Ar:pe;return!t&&ge(l,"iterate",Wt),a.forEach((u,h)=>n.call(i,c(u),c(h),o))}};return ve(s,t?{add:dr("add"),set:dr("set"),delete:dr("delete"),clear:dr("clear")}:{add(n){!e&&!Le(n)&&!jt(n)&&(n=J(n));const i=J(this);return hr(i).has.call(i,n)||(i.add(n),dt(i,"add",n,n)),this},set(n,i){!e&&!Le(i)&&!jt(i)&&(i=J(i));const o=J(this),{has:a,get:l}=hr(o);let c=a.call(o,n);c||(n=J(n),c=a.call(o,n));const u=l.call(o,n);return o.set(n,i),c?Ct(i,u)&&dt(o,"set",n,i):dt(o,"add",n,i),this},delete(n){const i=J(this),{has:o,get:a}=hr(i);let l=o.call(i,n);l||(n=J(n),l=o.call(i,n)),a&&a.call(i,n);const c=i.delete(n);return l&&dt(i,"delete",n,void 0),c},clear(){const n=J(this),i=n.size!==0,o=n.clear();return i&&dt(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{s[n]=Yl(n,t,e)}),s}function ti(t,e){const s=Xl(t,e);return(r,n,i)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?r:Reflect.get(Z(s,n)&&n in r?s:r,n,i)}const ec={get:ti(!1,!1)},tc={get:ti(!1,!0)},sc={get:ti(!0,!1)};const la=new WeakMap,ca=new WeakMap,ua=new WeakMap,rc=new WeakMap;function nc(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ic(t){return t.__v_skip||!Object.isExtensible(t)?0:nc(Rl(t))}function Vr(t){return jt(t)?t:si(t,!1,Jl,ec,la)}function ha(t){return si(t,!1,Ql,tc,ca)}function da(t){return si(t,!0,Zl,sc,ua)}function si(t,e,s,r,n){if(!ne(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=ic(t);if(i===0)return t;const o=n.get(t);if(o)return o;const a=new Proxy(t,i===2?r:s);return n.set(t,a),a}function ys(t){return jt(t)?ys(t.__v_raw):!!(t&&t.__v_isReactive)}function jt(t){return!!(t&&t.__v_isReadonly)}function Le(t){return!!(t&&t.__v_isShallow)}function ri(t){return t?!!t.__v_raw:!1}function J(t){const e=t&&t.__v_raw;return e?J(e):t}function oc(t){return!Z(t,"__v_skip")&&Object.isExtensible(t)&&yn(t,"__v_skip",!0),t}const pe=t=>ne(t)?Vr(t):t,Ar=t=>ne(t)?da(t):t;function me(t){return t?t.__v_isRef===!0:!1}function or(t){return fa(t,!1)}function ac(t){return fa(t,!0)}function fa(t,e){return me(t)?t:new lc(t,e)}class lc{constructor(e,s){this.dep=new ei,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=s?e:J(e),this._value=s?e:pe(e),this.__v_isShallow=s}get value(){return this.dep.track(),this._value}set value(e){const s=this._rawValue,r=this.__v_isShallow||Le(e)||jt(e);e=r?e:J(e),Ct(e,s)&&(this._rawValue=e,this._value=r?e:pe(e),this.dep.trigger())}}function Be(t){return me(t)?t.value:t}const cc={get:(t,e,s)=>e==="__v_raw"?t:Be(Reflect.get(t,e,s)),set:(t,e,s,r)=>{const n=t[e];return me(n)&&!me(s)?(n.value=s,!0):Reflect.set(t,e,s,r)}};function pa(t){return ys(t)?t:new Proxy(t,cc)}class uc{constructor(e,s,r){this.fn=e,this.setter=s,this._value=void 0,this.dep=new ei(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Qs-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!s,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&re!==this)return Xo(this,!0),!0}get value(){const e=this.dep.track();return sa(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function hc(t,e,s=!1){let r,n;return q(t)?r=t:(r=t.get,n=t.set),new uc(r,n,s)}const fr={},xr=new WeakMap;let Vt;function dc(t,e=!1,s=Vt){if(s){let r=xr.get(s);r||xr.set(s,r=[]),r.push(t)}}function fc(t,e,s=ee){const{immediate:r,deep:n,once:i,scheduler:o,augmentJob:a,call:l}=s,c=P=>n?P:Le(P)||n===!1||n===0?ft(P,1):ft(P);let u,h,d,g,m=!1,E=!1;if(me(t)?(h=()=>t.value,m=Le(t)):ys(t)?(h=()=>c(t),m=!0):M(t)?(E=!0,m=t.some(P=>ys(P)||Le(P)),h=()=>t.map(P=>{if(me(P))return P.value;if(ys(P))return c(P);if(q(P))return l?l(P,2):P()})):q(t)?e?h=l?()=>l(t,2):t:h=()=>{if(d){_t();try{d()}finally{mt()}}const P=Vt;Vt=u;try{return l?l(t,3,[g]):t(g)}finally{Vt=P}}:h=st,e&&n){const P=h,B=n===!0?1/0:n;h=()=>ft(P(),B)}const T=Fl(),A=()=>{u.stop(),T&&T.active&&zn(T.effects,u)};if(i&&e){const P=e;e=(...B)=>{P(...B),A()}}let C=E?new Array(t.length).fill(fr):fr;const S=P=>{if(!(!(u.flags&1)||!u.dirty&&!P))if(e){const B=u.run();if(n||m||(E?B.some((H,F)=>Ct(H,C[F])):Ct(B,C))){d&&d();const H=Vt;Vt=u;try{const F=[B,C===fr?void 0:E&&C[0]===fr?[]:C,g];C=B,l?l(e,3,F):e(...F)}finally{Vt=H}}}else u.run()};return a&&a(S),u=new Qo(h),u.scheduler=o?()=>o(S,!1):S,g=P=>dc(P,!1,u),d=u.onStop=()=>{const P=xr.get(u);if(P){if(l)l(P,4);else for(const B of P)B();xr.delete(u)}},e?r?S(!0):C=u.run():o?o(S.bind(null,!0),!0):u.run(),A.pause=u.pause.bind(u),A.resume=u.resume.bind(u),A.stop=A,A}function ft(t,e=1/0,s){if(e<=0||!ne(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),e--,me(t))ft(t.value,e,s);else if(M(t))for(let r=0;r<t.length;r++)ft(t[r],e,s);else if(Os(t)||ms(t))t.forEach(r=>{ft(r,e,s)});else if(zo(t)){for(const r in t)ft(t[r],e,s);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&ft(t[r],e,s)}return t}/**
* @vue/runtime-core v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ar(t,e,s,r){try{return r?t(...r):t()}catch(n){Hr(n,e,s)}}function nt(t,e,s,r){if(q(t)){const n=ar(t,e,s,r);return n&&Ko(n)&&n.catch(i=>{Hr(i,e,s)}),n}if(M(t)){const n=[];for(let i=0;i<t.length;i++)n.push(nt(t[i],e,s,r));return n}}function Hr(t,e,s,r=!0){const n=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ee;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${s}`;for(;a;){const u=a.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](t,l,c)===!1)return}a=a.parent}if(i){_t(),ar(i,null,10,[t,l,c]),mt();return}}pc(t,s,n,r,o)}function pc(t,e,s,r=!0,n=!1){if(n)throw t;console.error(t)}const be=[];let Ye=-1;const bs=[];let Pt=null,hs=0;const ga=Promise.resolve();let Rr=null;function ni(t){const e=Rr||ga;return t?e.then(this?t.bind(this):t):e}function gc(t){let e=Ye+1,s=be.length;for(;e<s;){const r=e+s>>>1,n=be[r],i=Xs(n);i<t||i===t&&n.flags&2?e=r+1:s=r}return e}function ii(t){if(!(t.flags&1)){const e=Xs(t),s=be[be.length-1];!s||!(t.flags&2)&&e>=Xs(s)?be.push(t):be.splice(gc(e),0,t),t.flags|=1,_a()}}function _a(){Rr||(Rr=ga.then(va))}function _c(t){M(t)?bs.push(...t):Pt&&t.id===-1?Pt.splice(hs+1,0,t):t.flags&1||(bs.push(t),t.flags|=1),_a()}function Ti(t,e,s=Ye+1){for(;s<be.length;s++){const r=be[s];if(r&&r.flags&2){if(t&&r.id!==t.uid)continue;be.splice(s,1),s--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function ma(t){if(bs.length){const e=[...new Set(bs)].sort((s,r)=>Xs(s)-Xs(r));if(bs.length=0,Pt){Pt.push(...e);return}for(Pt=e,hs=0;hs<Pt.length;hs++){const s=Pt[hs];s.flags&4&&(s.flags&=-2),s.flags&8||s(),s.flags&=-2}Pt=null,hs=0}}const Xs=t=>t.id==null?t.flags&2?-1:1/0:t.id;function va(t){try{for(Ye=0;Ye<be.length;Ye++){const e=be[Ye];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ar(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Ye<be.length;Ye++){const e=be[Ye];e&&(e.flags&=-2)}Ye=-1,be.length=0,ma(),Rr=null,(be.length||bs.length)&&va()}}let Ce=null,ya=null;function Cr(t){const e=Ce;return Ce=t,ya=t&&t.type.__scopeId||null,e}function jr(t,e=Ce,s){if(!e||t._n)return t;const r=(...n)=>{r._d&&$i(-1);const i=Cr(e);let o;try{o=t(...n)}finally{Cr(i),r._d&&$i(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Wp(t,e){if(Ce===null)return t;const s=Jr(Ce),r=t.dirs||(t.dirs=[]);for(let n=0;n<e.length;n++){let[i,o,a,l=ee]=e[n];i&&(q(i)&&(i={mounted:i,updated:i}),i.deep&&ft(o),r.push({dir:i,instance:s,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Dt(t,e,s,r){const n=t.dirs,i=e&&e.dirs;for(let o=0;o<n.length;o++){const a=n[o];i&&(a.oldValue=i[o].value);let l=a.dir[r];l&&(_t(),nt(l,s,8,[t.el,a,t,e]),mt())}}const mc=Symbol("_vte"),vc=t=>t.__isTeleport;function oi(t,e){t.shapeFlag&6&&t.component?(t.transition=e,oi(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}/*! #__NO_SIDE_EFFECTS__ */function Kr(t,e){return q(t)?ve({name:t.name},e,{setup:t}):t}function ba(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function qs(t,e,s,r,n=!1){if(M(t)){t.forEach((m,E)=>qs(m,e&&(M(e)?e[E]:e),s,r,n));return}if(Vs(r)&&!n){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&qs(t,e,s,r.component.subTree);return}const i=r.shapeFlag&4?Jr(r.component):r.el,o=n?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===ee?a.refs={}:a.refs,h=a.setupState,d=J(h),g=h===ee?()=>!1:m=>Z(d,m);if(c!=null&&c!==l&&(le(c)?(u[c]=null,g(c)&&(h[c]=null)):me(c)&&(c.value=null)),q(l))ar(l,a,12,[o,u]);else{const m=le(l),E=me(l);if(m||E){const T=()=>{if(t.f){const A=m?g(l)?h[l]:u[l]:l.value;n?M(A)&&zn(A,i):M(A)?A.includes(i)||A.push(i):m?(u[l]=[i],g(l)&&(h[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else m?(u[l]=o,g(l)&&(h[l]=o)):E&&(l.value=o,t.k&&(u[t.k]=o))};o?(T.id=-1,xe(T,s)):T()}}}Fr().requestIdleCallback;Fr().cancelIdleCallback;const Vs=t=>!!t.type.__asyncLoader,wa=t=>t.type.__isKeepAlive;function yc(t,e){Sa(t,"a",e)}function bc(t,e){Sa(t,"da",e)}function Sa(t,e,s=_e){const r=t.__wdc||(t.__wdc=()=>{let n=s;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Wr(e,r,s),s){let n=s.parent;for(;n&&n.parent;)wa(n.parent.vnode)&&wc(r,e,s,n),n=n.parent}}function wc(t,e,s,r){const n=Wr(e,t,r,!0);Ta(()=>{zn(r[e],n)},s)}function Wr(t,e,s=_e,r=!1){if(s){const n=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{_t();const a=lr(s),l=nt(e,s,t,o);return a(),mt(),l});return r?n.unshift(i):n.push(i),i}}const vt=t=>(e,s=_e)=>{(!tr||t==="sp")&&Wr(t,(...r)=>e(...r),s)},Sc=vt("bm"),Ea=vt("m"),Ec=vt("bu"),Tc=vt("u"),kc=vt("bum"),Ta=vt("um"),Pc=vt("sp"),Oc=vt("rtg"),Ac=vt("rtc");function xc(t,e=_e){Wr("ec",t,e)}const Rc="components";function Tn(t,e){return jc(Rc,t,!0,e)||t}const Cc=Symbol.for("v-ndc");function jc(t,e,s=!0,r=!1){const n=Ce||_e;if(n){const i=n.type;{const a=wu(i,!1);if(a&&(a===e||a===De(e)||a===Br(De(e))))return i}const o=ki(n[t]||i[t],e)||ki(n.appContext[t],e);return!o&&r?i:o}}function ki(t,e){return t&&(t[e]||t[De(e)]||t[Br(De(e))])}function Ic(t,e,s,r){let n;const i=s,o=M(t);if(o||le(t)){const a=o&&ys(t);let l=!1,c=!1;a&&(l=!Le(t),c=jt(t),t=qr(t)),n=new Array(t.length);for(let u=0,h=t.length;u<h;u++)n[u]=e(l?c?Ar(pe(t[u])):pe(t[u]):t[u],u,void 0,i)}else if(typeof t=="number"){n=new Array(t);for(let a=0;a<t;a++)n[a]=e(a+1,a,void 0,i)}else if(ne(t))if(t[Symbol.iterator])n=Array.from(t,(a,l)=>e(a,l,void 0,i));else{const a=Object.keys(t);n=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];n[l]=e(t[u],u,l,i)}}else n=[];return n}const kn=t=>t?Ka(t)?Jr(t):kn(t.parent):null,Hs=ve(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>kn(t.parent),$root:t=>kn(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Pa(t),$forceUpdate:t=>t.f||(t.f=()=>{ii(t.update)}),$nextTick:t=>t.n||(t.n=ni.bind(t.proxy)),$watch:t=>eu.bind(t)}),nn=(t,e)=>t!==ee&&!t.__isScriptSetup&&Z(t,e),$c={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:s,setupState:r,data:n,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return r[e];case 2:return n[e];case 4:return s[e];case 3:return i[e]}else{if(nn(r,e))return o[e]=1,r[e];if(n!==ee&&Z(n,e))return o[e]=2,n[e];if((c=t.propsOptions[0])&&Z(c,e))return o[e]=3,i[e];if(s!==ee&&Z(s,e))return o[e]=4,s[e];Pn&&(o[e]=0)}}const u=Hs[e];let h,d;if(u)return e==="$attrs"&&ge(t.attrs,"get",""),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==ee&&Z(s,e))return o[e]=4,s[e];if(d=l.config.globalProperties,Z(d,e))return d[e]},set({_:t},e,s){const{data:r,setupState:n,ctx:i}=t;return nn(n,e)?(n[e]=s,!0):r!==ee&&Z(r,e)?(r[e]=s,!0):Z(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:r,appContext:n,propsOptions:i}},o){let a;return!!s[o]||t!==ee&&Z(t,o)||nn(e,o)||(a=i[0])&&Z(a,o)||Z(r,o)||Z(Hs,o)||Z(n.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:Z(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Pi(t){return M(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let Pn=!0;function Lc(t){const e=Pa(t),s=t.proxy,r=t.ctx;Pn=!1,e.beforeCreate&&Oi(e.beforeCreate,t,"bc");const{data:n,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:d,beforeUpdate:g,updated:m,activated:E,deactivated:T,beforeDestroy:A,beforeUnmount:C,destroyed:S,unmounted:P,render:B,renderTracked:H,renderTriggered:F,errorCaptured:He,serverPrefetch:yt,expose:Ke,inheritAttrs:bt,components:Ut,directives:We,filters:xs}=e;if(c&&Uc(c,r,null),o)for(const Y in o){const z=o[Y];q(z)&&(r[Y]=z.bind(s))}if(n){const Y=n.call(s,s);ne(Y)&&(t.data=Vr(Y))}if(Pn=!0,i)for(const Y in i){const z=i[Y],it=q(z)?z.bind(s,s):q(z.get)?z.get.bind(s,s):st,wt=!q(z)&&q(z.set)?z.set.bind(s):st,ze=ae({get:it,set:wt});Object.defineProperty(r,Y,{enumerable:!0,configurable:!0,get:()=>ze.value,set:we=>ze.value=we})}if(a)for(const Y in a)ka(a[Y],r,s,Y);if(l){const Y=q(l)?l.call(s):l;Reflect.ownKeys(Y).forEach(z=>{Sr(z,Y[z])})}u&&Oi(u,t,"c");function he(Y,z){M(z)?z.forEach(it=>Y(it.bind(s))):z&&Y(z.bind(s))}if(he(Sc,h),he(Ea,d),he(Ec,g),he(Tc,m),he(yc,E),he(bc,T),he(xc,He),he(Ac,H),he(Oc,F),he(kc,C),he(Ta,P),he(Pc,yt),M(Ke))if(Ke.length){const Y=t.exposed||(t.exposed={});Ke.forEach(z=>{Object.defineProperty(Y,z,{get:()=>s[z],set:it=>s[z]=it,enumerable:!0})})}else t.exposed||(t.exposed={});B&&t.render===st&&(t.render=B),bt!=null&&(t.inheritAttrs=bt),Ut&&(t.components=Ut),We&&(t.directives=We),yt&&ba(t)}function Uc(t,e,s=st){M(t)&&(t=On(t));for(const r in t){const n=t[r];let i;ne(n)?"default"in n?i=qe(n.from||r,n.default,!0):i=qe(n.from||r):i=qe(n),me(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Oi(t,e,s){nt(M(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,s)}function ka(t,e,s,r){let n=r.includes(".")?Na(s,r):()=>s[r];if(le(t)){const i=e[t];q(i)&&Er(n,i)}else if(q(t))Er(n,t.bind(s));else if(ne(t))if(M(t))t.forEach(i=>ka(i,e,s,r));else{const i=q(t.handler)?t.handler.bind(s):e[t.handler];q(i)&&Er(n,i,t)}}function Pa(t){const e=t.type,{mixins:s,extends:r}=e,{mixins:n,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!n.length&&!s&&!r?l=e:(l={},n.length&&n.forEach(c=>Ir(l,c,o,!0)),Ir(l,e,o)),ne(e)&&i.set(e,l),l}function Ir(t,e,s,r=!1){const{mixins:n,extends:i}=e;i&&Ir(t,i,s,!0),n&&n.forEach(o=>Ir(t,o,s,!0));for(const o in e)if(!(r&&o==="expose")){const a=Dc[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Dc={data:Ai,props:xi,emits:xi,methods:Ds,computed:Ds,beforeCreate:ye,created:ye,beforeMount:ye,mounted:ye,beforeUpdate:ye,updated:ye,beforeDestroy:ye,beforeUnmount:ye,destroyed:ye,unmounted:ye,activated:ye,deactivated:ye,errorCaptured:ye,serverPrefetch:ye,components:Ds,directives:Ds,watch:Nc,provide:Ai,inject:Mc};function Ai(t,e){return e?t?function(){return ve(q(t)?t.call(this,this):t,q(e)?e.call(this,this):e)}:e:t}function Mc(t,e){return Ds(On(t),On(e))}function On(t){if(M(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function ye(t,e){return t?[...new Set([].concat(t,e))]:e}function Ds(t,e){return t?ve(Object.create(null),t,e):e}function xi(t,e){return t?M(t)&&M(e)?[...new Set([...t,...e])]:ve(Object.create(null),Pi(t),Pi(e??{})):e}function Nc(t,e){if(!t)return e;if(!e)return t;const s=ve(Object.create(null),t);for(const r in e)s[r]=ye(t[r],e[r]);return s}function Oa(){return{app:null,config:{isNativeTag:Al,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Bc=0;function Fc(t,e){return function(r,n=null){q(r)||(r=ve({},r)),n!=null&&!ne(n)&&(n=null);const i=Oa(),o=new WeakSet,a=[];let l=!1;const c=i.app={_uid:Bc++,_component:r,_props:n,_container:null,_context:i,_instance:null,version:Eu,get config(){return i.config},set config(u){},use(u,...h){return o.has(u)||(u&&q(u.install)?(o.add(u),u.install(c,...h)):q(u)&&(o.add(u),u(c,...h))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,h){return h?(i.components[u]=h,c):i.components[u]},directive(u,h){return h?(i.directives[u]=h,c):i.directives[u]},mount(u,h,d){if(!l){const g=c._ceVNode||ue(r,n);return g.appContext=i,d===!0?d="svg":d===!1&&(d=void 0),t(g,u,d),l=!0,c._container=u,u.__vue_app__=c,Jr(g.component)}},onUnmount(u){a.push(u)},unmount(){l&&(nt(a,c._instance,16),t(null,c._container),delete c._container.__vue_app__)},provide(u,h){return i.provides[u]=h,c},runWithContext(u){const h=ws;ws=c;try{return u()}finally{ws=h}}};return c}}let ws=null;function Sr(t,e){if(_e){let s=_e.provides;const r=_e.parent&&_e.parent.provides;r===s&&(s=_e.provides=Object.create(r)),s[t]=e}}function qe(t,e,s=!1){const r=_u();if(r||ws){let n=ws?ws._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(n&&t in n)return n[t];if(arguments.length>1)return s&&q(e)?e.call(r&&r.proxy):e}}const Aa={},xa=()=>Object.create(Aa),Ra=t=>Object.getPrototypeOf(t)===Aa;function qc(t,e,s,r=!1){const n={},i=xa();t.propsDefaults=Object.create(null),Ca(t,e,n,i);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);s?t.props=r?n:ha(n):t.type.props?t.props=n:t.props=i,t.attrs=i}function Vc(t,e,s,r){const{props:n,attrs:i,vnode:{patchFlag:o}}=t,a=J(n),[l]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(zr(t.emitsOptions,d))continue;const g=e[d];if(l)if(Z(i,d))g!==i[d]&&(i[d]=g,c=!0);else{const m=De(d);n[m]=An(l,a,m,g,t,!1)}else g!==i[d]&&(i[d]=g,c=!0)}}}else{Ca(t,e,n,i)&&(c=!0);let u;for(const h in a)(!e||!Z(e,h)&&((u=Gt(h))===h||!Z(e,u)))&&(l?s&&(s[h]!==void 0||s[u]!==void 0)&&(n[h]=An(l,a,h,void 0,t,!0)):delete n[h]);if(i!==a)for(const h in i)(!e||!Z(e,h))&&(delete i[h],c=!0)}c&&dt(t.attrs,"set","")}function Ca(t,e,s,r){const[n,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Ns(l))continue;const c=e[l];let u;n&&Z(n,u=De(l))?!i||!i.includes(u)?s[u]=c:(a||(a={}))[u]=c:zr(t.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,o=!0)}if(i){const l=J(s),c=a||ee;for(let u=0;u<i.length;u++){const h=i[u];s[h]=An(n,l,h,c[h],t,!Z(c,h))}}return o}function An(t,e,s,r,n,i){const o=t[s];if(o!=null){const a=Z(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&q(l)){const{propsDefaults:c}=n;if(s in c)r=c[s];else{const u=lr(n);r=c[s]=l.call(null,e),u()}}else r=l;n.ce&&n.ce._setProp(s,r)}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===Gt(s))&&(r=!0))}return r}const Hc=new WeakMap;function ja(t,e,s=!1){const r=s?Hc:e.propsCache,n=r.get(t);if(n)return n;const i=t.props,o={},a=[];let l=!1;if(!q(t)){const u=h=>{l=!0;const[d,g]=ja(h,e,!0);ve(o,d),g&&a.push(...g)};!s&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return ne(t)&&r.set(t,_s),_s;if(M(i))for(let u=0;u<i.length;u++){const h=De(i[u]);Ri(h)&&(o[h]=ee)}else if(i)for(const u in i){const h=De(u);if(Ri(h)){const d=i[u],g=o[h]=M(d)||q(d)?{type:d}:ve({},d),m=g.type;let E=!1,T=!0;if(M(m))for(let A=0;A<m.length;++A){const C=m[A],S=q(C)&&C.name;if(S==="Boolean"){E=!0;break}else S==="String"&&(T=!1)}else E=q(m)&&m.name==="Boolean";g[0]=E,g[1]=T,(E||Z(g,"default"))&&a.push(h)}}const c=[o,a];return ne(t)&&r.set(t,c),c}function Ri(t){return t[0]!=="$"&&!Ns(t)}const ai=t=>t==="_"||t==="__"||t==="_ctx"||t==="$stable",li=t=>M(t)?t.map(et):[et(t)],Kc=(t,e,s)=>{if(e._n)return e;const r=jr((...n)=>li(e(...n)),s);return r._c=!1,r},Ia=(t,e,s)=>{const r=t._ctx;for(const n in t){if(ai(n))continue;const i=t[n];if(q(i))e[n]=Kc(n,i,r);else if(i!=null){const o=li(i);e[n]=()=>o}}},$a=(t,e)=>{const s=li(e);t.slots.default=()=>s},La=(t,e,s)=>{for(const r in e)(s||!ai(r))&&(t[r]=e[r])},Wc=(t,e,s)=>{const r=t.slots=xa();if(t.vnode.shapeFlag&32){const n=e.__;n&&yn(r,"__",n,!0);const i=e._;i?(La(r,e,s),s&&yn(r,"_",i,!0)):Ia(e,r)}else e&&$a(t,e)},zc=(t,e,s)=>{const{vnode:r,slots:n}=t;let i=!0,o=ee;if(r.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:La(n,e,s):(i=!e.$stable,Ia(e,n)),o=e}else e&&($a(t,e),o={default:1});if(i)for(const a in n)!ai(a)&&o[a]==null&&delete n[a]},xe=au;function Gc(t){return Jc(t)}function Jc(t,e){const s=Fr();s.__VUE__=!0;const{insert:r,remove:n,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:d,setScopeId:g=st,insertStaticContent:m}=t,E=(f,p,_,v=null,w=null,b=null,R=void 0,x=null,O=!!p.dynamicChildren)=>{if(f===p)return;f&&!js(f,p)&&(v=y(f),we(f,w,b,!0),f=null),p.patchFlag===-2&&(O=!1,p.dynamicChildren=null);const{type:k,ref:D,shapeFlag:I}=p;switch(k){case Gr:T(f,p,_,v);break;case It:A(f,p,_,v);break;case Tr:f==null&&C(p,_,v,R);break;case Xe:Ut(f,p,_,v,w,b,R,x,O);break;default:I&1?B(f,p,_,v,w,b,R,x,O):I&6?We(f,p,_,v,w,b,R,x,O):(I&64||I&128)&&k.process(f,p,_,v,w,b,R,x,O,L)}D!=null&&w?qs(D,f&&f.ref,b,p||f,!p):D==null&&f&&f.ref!=null&&qs(f.ref,null,b,f,!0)},T=(f,p,_,v)=>{if(f==null)r(p.el=a(p.children),_,v);else{const w=p.el=f.el;p.children!==f.children&&c(w,p.children)}},A=(f,p,_,v)=>{f==null?r(p.el=l(p.children||""),_,v):p.el=f.el},C=(f,p,_,v)=>{[f.el,f.anchor]=m(f.children,p,_,v,f.el,f.anchor)},S=({el:f,anchor:p},_,v)=>{let w;for(;f&&f!==p;)w=d(f),r(f,_,v),f=w;r(p,_,v)},P=({el:f,anchor:p})=>{let _;for(;f&&f!==p;)_=d(f),n(f),f=_;n(p)},B=(f,p,_,v,w,b,R,x,O)=>{p.type==="svg"?R="svg":p.type==="math"&&(R="mathml"),f==null?H(p,_,v,w,b,R,x,O):yt(f,p,w,b,R,x,O)},H=(f,p,_,v,w,b,R,x)=>{let O,k;const{props:D,shapeFlag:I,transition:U,dirs:N}=f;if(O=f.el=o(f.type,b,D&&D.is,D),I&8?u(O,f.children):I&16&&He(f.children,O,null,v,w,on(f,b),R,x),N&&Dt(f,null,v,"created"),F(O,f,f.scopeId,R,v),D){for(const te in D)te!=="value"&&!Ns(te)&&i(O,te,null,D[te],b,v);"value"in D&&i(O,"value",null,D.value,b),(k=D.onVnodeBeforeMount)&&Qe(k,v,f)}N&&Dt(f,null,v,"beforeMount");const W=Zc(w,U);W&&U.beforeEnter(O),r(O,p,_),((k=D&&D.onVnodeMounted)||W||N)&&xe(()=>{k&&Qe(k,v,f),W&&U.enter(O),N&&Dt(f,null,v,"mounted")},w)},F=(f,p,_,v,w)=>{if(_&&g(f,_),v)for(let b=0;b<v.length;b++)g(f,v[b]);if(w){let b=w.subTree;if(p===b||Fa(b.type)&&(b.ssContent===p||b.ssFallback===p)){const R=w.vnode;F(f,R,R.scopeId,R.slotScopeIds,w.parent)}}},He=(f,p,_,v,w,b,R,x,O=0)=>{for(let k=O;k<f.length;k++){const D=f[k]=x?Ot(f[k]):et(f[k]);E(null,D,p,_,v,w,b,R,x)}},yt=(f,p,_,v,w,b,R)=>{const x=p.el=f.el;let{patchFlag:O,dynamicChildren:k,dirs:D}=p;O|=f.patchFlag&16;const I=f.props||ee,U=p.props||ee;let N;if(_&&Mt(_,!1),(N=U.onVnodeBeforeUpdate)&&Qe(N,_,p,f),D&&Dt(p,f,_,"beforeUpdate"),_&&Mt(_,!0),(I.innerHTML&&U.innerHTML==null||I.textContent&&U.textContent==null)&&u(x,""),k?Ke(f.dynamicChildren,k,x,_,v,on(p,w),b):R||z(f,p,x,null,_,v,on(p,w),b,!1),O>0){if(O&16)bt(x,I,U,_,w);else if(O&2&&I.class!==U.class&&i(x,"class",null,U.class,w),O&4&&i(x,"style",I.style,U.style,w),O&8){const W=p.dynamicProps;for(let te=0;te<W.length;te++){const Q=W[te],Se=I[Q],Ee=U[Q];(Ee!==Se||Q==="value")&&i(x,Q,Se,Ee,w,_)}}O&1&&f.children!==p.children&&u(x,p.children)}else!R&&k==null&&bt(x,I,U,_,w);((N=U.onVnodeUpdated)||D)&&xe(()=>{N&&Qe(N,_,p,f),D&&Dt(p,f,_,"updated")},v)},Ke=(f,p,_,v,w,b,R)=>{for(let x=0;x<p.length;x++){const O=f[x],k=p[x],D=O.el&&(O.type===Xe||!js(O,k)||O.shapeFlag&198)?h(O.el):_;E(O,k,D,null,v,w,b,R,!0)}},bt=(f,p,_,v,w)=>{if(p!==_){if(p!==ee)for(const b in p)!Ns(b)&&!(b in _)&&i(f,b,p[b],null,w,v);for(const b in _){if(Ns(b))continue;const R=_[b],x=p[b];R!==x&&b!=="value"&&i(f,b,x,R,w,v)}"value"in _&&i(f,"value",p.value,_.value,w)}},Ut=(f,p,_,v,w,b,R,x,O)=>{const k=p.el=f?f.el:a(""),D=p.anchor=f?f.anchor:a("");let{patchFlag:I,dynamicChildren:U,slotScopeIds:N}=p;N&&(x=x?x.concat(N):N),f==null?(r(k,_,v),r(D,_,v),He(p.children||[],_,D,w,b,R,x,O)):I>0&&I&64&&U&&f.dynamicChildren?(Ke(f.dynamicChildren,U,_,w,b,R,x),(p.key!=null||w&&p===w.subTree)&&Ua(f,p,!0)):z(f,p,_,D,w,b,R,x,O)},We=(f,p,_,v,w,b,R,x,O)=>{p.slotScopeIds=x,f==null?p.shapeFlag&512?w.ctx.activate(p,_,v,R,O):xs(p,_,v,w,b,R,O):Zt(f,p,O)},xs=(f,p,_,v,w,b,R)=>{const x=f.component=gu(f,v,w);if(wa(f)&&(x.ctx.renderer=L),mu(x,!1,R),x.asyncDep){if(w&&w.registerDep(x,he,R),!f.el){const O=x.subTree=ue(It);A(null,O,p,_),f.placeholder=O.el}}else he(x,f,p,_,w,b,R)},Zt=(f,p,_)=>{const v=p.component=f.component;if(iu(f,p,_))if(v.asyncDep&&!v.asyncResolved){Y(v,p,_);return}else v.next=p,v.update();else p.el=f.el,v.vnode=p},he=(f,p,_,v,w,b,R)=>{const x=()=>{if(f.isMounted){let{next:I,bu:U,u:N,parent:W,vnode:te}=f;{const Je=Da(f);if(Je){I&&(I.el=te.el,Y(f,I,R)),Je.asyncDep.then(()=>{f.isUnmounted||x()});return}}let Q=I,Se;Mt(f,!1),I?(I.el=te.el,Y(f,I,R)):I=te,U&&wr(U),(Se=I.props&&I.props.onVnodeBeforeUpdate)&&Qe(Se,W,I,te),Mt(f,!0);const Ee=ji(f),Ge=f.subTree;f.subTree=Ee,E(Ge,Ee,h(Ge.el),y(Ge),f,w,b),I.el=Ee.el,Q===null&&ou(f,Ee.el),N&&xe(N,w),(Se=I.props&&I.props.onVnodeUpdated)&&xe(()=>Qe(Se,W,I,te),w)}else{let I;const{el:U,props:N}=p,{bm:W,m:te,parent:Q,root:Se,type:Ee}=f,Ge=Vs(p);Mt(f,!1),W&&wr(W),!Ge&&(I=N&&N.onVnodeBeforeMount)&&Qe(I,Q,p),Mt(f,!0);{Se.ce&&Se.ce._def.shadowRoot!==!1&&Se.ce._injectChildStyle(Ee);const Je=f.subTree=ji(f);E(null,Je,_,v,f,w,b),p.el=Je.el}if(te&&xe(te,w),!Ge&&(I=N&&N.onVnodeMounted)){const Je=p;xe(()=>Qe(I,Q,Je),w)}(p.shapeFlag&256||Q&&Vs(Q.vnode)&&Q.vnode.shapeFlag&256)&&f.a&&xe(f.a,w),f.isMounted=!0,p=_=v=null}};f.scope.on();const O=f.effect=new Qo(x);f.scope.off();const k=f.update=O.run.bind(O),D=f.job=O.runIfDirty.bind(O);D.i=f,D.id=f.uid,O.scheduler=()=>ii(D),Mt(f,!0),k()},Y=(f,p,_)=>{p.component=f;const v=f.vnode.props;f.vnode=p,f.next=null,Vc(f,p.props,v,_),zc(f,p.children,_),_t(),Ti(f),mt()},z=(f,p,_,v,w,b,R,x,O=!1)=>{const k=f&&f.children,D=f?f.shapeFlag:0,I=p.children,{patchFlag:U,shapeFlag:N}=p;if(U>0){if(U&128){wt(k,I,_,v,w,b,R,x,O);return}else if(U&256){it(k,I,_,v,w,b,R,x,O);return}}N&8?(D&16&&Ie(k,w,b),I!==k&&u(_,I)):D&16?N&16?wt(k,I,_,v,w,b,R,x,O):Ie(k,w,b,!0):(D&8&&u(_,""),N&16&&He(I,_,v,w,b,R,x,O))},it=(f,p,_,v,w,b,R,x,O)=>{f=f||_s,p=p||_s;const k=f.length,D=p.length,I=Math.min(k,D);let U;for(U=0;U<I;U++){const N=p[U]=O?Ot(p[U]):et(p[U]);E(f[U],N,_,null,w,b,R,x,O)}k>D?Ie(f,w,b,!0,!1,I):He(p,_,v,w,b,R,x,O,I)},wt=(f,p,_,v,w,b,R,x,O)=>{let k=0;const D=p.length;let I=f.length-1,U=D-1;for(;k<=I&&k<=U;){const N=f[k],W=p[k]=O?Ot(p[k]):et(p[k]);if(js(N,W))E(N,W,_,null,w,b,R,x,O);else break;k++}for(;k<=I&&k<=U;){const N=f[I],W=p[U]=O?Ot(p[U]):et(p[U]);if(js(N,W))E(N,W,_,null,w,b,R,x,O);else break;I--,U--}if(k>I){if(k<=U){const N=U+1,W=N<D?p[N].el:v;for(;k<=U;)E(null,p[k]=O?Ot(p[k]):et(p[k]),_,W,w,b,R,x,O),k++}}else if(k>U)for(;k<=I;)we(f[k],w,b,!0),k++;else{const N=k,W=k,te=new Map;for(k=W;k<=U;k++){const Ae=p[k]=O?Ot(p[k]):et(p[k]);Ae.key!=null&&te.set(Ae.key,k)}let Q,Se=0;const Ee=U-W+1;let Ge=!1,Je=0;const Rs=new Array(Ee);for(k=0;k<Ee;k++)Rs[k]=0;for(k=N;k<=I;k++){const Ae=f[k];if(Se>=Ee){we(Ae,w,b,!0);continue}let Ze;if(Ae.key!=null)Ze=te.get(Ae.key);else for(Q=W;Q<=U;Q++)if(Rs[Q-W]===0&&js(Ae,p[Q])){Ze=Q;break}Ze===void 0?we(Ae,w,b,!0):(Rs[Ze-W]=k+1,Ze>=Je?Je=Ze:Ge=!0,E(Ae,p[Ze],_,null,w,b,R,x,O),Se++)}const mi=Ge?Qc(Rs):_s;for(Q=mi.length-1,k=Ee-1;k>=0;k--){const Ae=W+k,Ze=p[Ae],vi=p[Ae+1],yi=Ae+1<D?vi.el||vi.placeholder:v;Rs[k]===0?E(null,Ze,_,yi,w,b,R,x,O):Ge&&(Q<0||k!==mi[Q]?ze(Ze,_,yi,2):Q--)}}},ze=(f,p,_,v,w=null)=>{const{el:b,type:R,transition:x,children:O,shapeFlag:k}=f;if(k&6){ze(f.component.subTree,p,_,v);return}if(k&128){f.suspense.move(p,_,v);return}if(k&64){R.move(f,p,_,L);return}if(R===Xe){r(b,p,_);for(let I=0;I<O.length;I++)ze(O[I],p,_,v);r(f.anchor,p,_);return}if(R===Tr){S(f,p,_);return}if(v!==2&&k&1&&x)if(v===0)x.beforeEnter(b),r(b,p,_),xe(()=>x.enter(b),w);else{const{leave:I,delayLeave:U,afterLeave:N}=x,W=()=>{f.ctx.isUnmounted?n(b):r(b,p,_)},te=()=>{I(b,()=>{W(),N&&N()})};U?U(b,W,te):te()}else r(b,p,_)},we=(f,p,_,v=!1,w=!1)=>{const{type:b,props:R,ref:x,children:O,dynamicChildren:k,shapeFlag:D,patchFlag:I,dirs:U,cacheIndex:N}=f;if(I===-2&&(w=!1),x!=null&&(_t(),qs(x,null,_,f,!0),mt()),N!=null&&(p.renderCache[N]=void 0),D&256){p.ctx.deactivate(f);return}const W=D&1&&U,te=!Vs(f);let Q;if(te&&(Q=R&&R.onVnodeBeforeUnmount)&&Qe(Q,p,f),D&6)ur(f.component,_,v);else{if(D&128){f.suspense.unmount(_,v);return}W&&Dt(f,null,p,"beforeUnmount"),D&64?f.type.remove(f,p,_,L,v):k&&!k.hasOnce&&(b!==Xe||I>0&&I&64)?Ie(k,p,_,!1,!0):(b===Xe&&I&384||!w&&D&16)&&Ie(O,p,_),v&&Qt(f)}(te&&(Q=R&&R.onVnodeUnmounted)||W)&&xe(()=>{Q&&Qe(Q,p,f),W&&Dt(f,null,p,"unmounted")},_)},Qt=f=>{const{type:p,el:_,anchor:v,transition:w}=f;if(p===Xe){Yt(_,v);return}if(p===Tr){P(f);return}const b=()=>{n(_),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(f.shapeFlag&1&&w&&!w.persisted){const{leave:R,delayLeave:x}=w,O=()=>R(_,b);x?x(f.el,b,O):O()}else b()},Yt=(f,p)=>{let _;for(;f!==p;)_=d(f),n(f),f=_;n(p)},ur=(f,p,_)=>{const{bum:v,scope:w,job:b,subTree:R,um:x,m:O,a:k,parent:D,slots:{__:I}}=f;Ci(O),Ci(k),v&&wr(v),D&&M(I)&&I.forEach(U=>{D.renderCache[U]=void 0}),w.stop(),b&&(b.flags|=8,we(R,f,p,_)),x&&xe(x,p),xe(()=>{f.isUnmounted=!0},p),p&&p.pendingBranch&&!p.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===p.pendingId&&(p.deps--,p.deps===0&&p.resolve())},Ie=(f,p,_,v=!1,w=!1,b=0)=>{for(let R=b;R<f.length;R++)we(f[R],p,_,v,w)},y=f=>{if(f.shapeFlag&6)return y(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const p=d(f.anchor||f.el),_=p&&p[mc];return _?d(_):p};let $=!1;const j=(f,p,_)=>{f==null?p._vnode&&we(p._vnode,null,null,!0):E(p._vnode||null,f,p,null,null,null,_),p._vnode=f,$||($=!0,Ti(),ma(),$=!1)},L={p:E,um:we,m:ze,r:Qt,mt:xs,mc:He,pc:z,pbc:Ke,n:y,o:t};return{render:j,hydrate:void 0,createApp:Fc(j)}}function on({type:t,props:e},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:s}function Mt({effect:t,job:e},s){s?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Zc(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Ua(t,e,s=!1){const r=t.children,n=e.children;if(M(r)&&M(n))for(let i=0;i<r.length;i++){const o=r[i];let a=n[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=n[i]=Ot(n[i]),a.el=o.el),!s&&a.patchFlag!==-2&&Ua(o,a)),a.type===Gr&&(a.el=o.el),a.type===It&&!a.el&&(a.el=o.el)}}function Qc(t){const e=t.slice(),s=[0];let r,n,i,o,a;const l=t.length;for(r=0;r<l;r++){const c=t[r];if(c!==0){if(n=s[s.length-1],t[n]<c){e[r]=n,s.push(r);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<c?i=a+1:o=a;c<t[s[i]]&&(i>0&&(e[r]=s[i-1]),s[i]=r)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}function Da(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:Da(e)}function Ci(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const Yc=Symbol.for("v-scx"),Xc=()=>qe(Yc);function Er(t,e,s){return Ma(t,e,s)}function Ma(t,e,s=ee){const{immediate:r,deep:n,flush:i,once:o}=s,a=ve({},s),l=e&&r||!e&&i!=="post";let c;if(tr){if(i==="sync"){const g=Xc();c=g.__watcherHandles||(g.__watcherHandles=[])}else if(!l){const g=()=>{};return g.stop=st,g.resume=st,g.pause=st,g}}const u=_e;a.call=(g,m,E)=>nt(g,u,m,E);let h=!1;i==="post"?a.scheduler=g=>{xe(g,u&&u.suspense)}:i!=="sync"&&(h=!0,a.scheduler=(g,m)=>{m?g():ii(g)}),a.augmentJob=g=>{e&&(g.flags|=4),h&&(g.flags|=2,u&&(g.id=u.uid,g.i=u))};const d=fc(t,e,a);return tr&&(c?c.push(d):l&&d()),d}function eu(t,e,s){const r=this.proxy,n=le(t)?t.includes(".")?Na(r,t):()=>r[t]:t.bind(r,r);let i;q(e)?i=e:(i=e.handler,s=e);const o=lr(this),a=Ma(n,i.bind(r),s);return o(),a}function Na(t,e){const s=e.split(".");return()=>{let r=t;for(let n=0;n<s.length&&r;n++)r=r[s[n]];return r}}const tu=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${De(e)}Modifiers`]||t[`${Gt(e)}Modifiers`];function su(t,e,...s){if(t.isUnmounted)return;const r=t.vnode.props||ee;let n=s;const i=e.startsWith("update:"),o=i&&tu(r,e.slice(7));o&&(o.trim&&(n=s.map(u=>le(u)?u.trim():u)),o.number&&(n=s.map(Or)));let a,l=r[a=Xr(e)]||r[a=Xr(De(e))];!l&&i&&(l=r[a=Xr(Gt(e))]),l&&nt(l,t,6,n);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,nt(c,t,6,n)}}function Ba(t,e,s=!1){const r=e.emitsCache,n=r.get(t);if(n!==void 0)return n;const i=t.emits;let o={},a=!1;if(!q(t)){const l=c=>{const u=Ba(c,e,!0);u&&(a=!0,ve(o,u))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(ne(t)&&r.set(t,null),null):(M(i)?i.forEach(l=>o[l]=null):ve(o,i),ne(t)&&r.set(t,o),o)}function zr(t,e){return!t||!Mr(e)?!1:(e=e.slice(2).replace(/Once$/,""),Z(t,e[0].toLowerCase()+e.slice(1))||Z(t,Gt(e))||Z(t,e))}function ji(t){const{type:e,vnode:s,proxy:r,withProxy:n,propsOptions:[i],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:h,data:d,setupState:g,ctx:m,inheritAttrs:E}=t,T=Cr(t);let A,C;try{if(s.shapeFlag&4){const P=n||r,B=P;A=et(c.call(B,P,u,h,g,d,m)),C=a}else{const P=e;A=et(P.length>1?P(h,{attrs:a,slots:o,emit:l}):P(h,null)),C=e.props?a:ru(a)}}catch(P){Ks.length=0,Hr(P,t,1),A=ue(It)}let S=A;if(C&&E!==!1){const P=Object.keys(C),{shapeFlag:B}=S;P.length&&B&7&&(i&&P.some(Wn)&&(C=nu(C,i)),S=Ss(S,C,!1,!0))}return s.dirs&&(S=Ss(S,null,!1,!0),S.dirs=S.dirs?S.dirs.concat(s.dirs):s.dirs),s.transition&&oi(S,s.transition),A=S,Cr(T),A}const ru=t=>{let e;for(const s in t)(s==="class"||s==="style"||Mr(s))&&((e||(e={}))[s]=t[s]);return e},nu=(t,e)=>{const s={};for(const r in t)(!Wn(r)||!(r.slice(9)in e))&&(s[r]=t[r]);return s};function iu(t,e,s){const{props:r,children:n,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return r?Ii(r,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==r[d]&&!zr(c,d))return!0}}}else return(n||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?Ii(r,o,c):!0:!!o;return!1}function Ii(t,e,s){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let n=0;n<r.length;n++){const i=r[n];if(e[i]!==t[i]&&!zr(s,i))return!0}return!1}function ou({vnode:t,parent:e},s){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=s,e=e.parent;else break}}const Fa=t=>t.__isSuspense;function au(t,e){e&&e.pendingBranch?M(t)?e.effects.push(...t):e.effects.push(t):_c(t)}const Xe=Symbol.for("v-fgt"),Gr=Symbol.for("v-txt"),It=Symbol.for("v-cmt"),Tr=Symbol.for("v-stc"),Ks=[];let je=null;function Pe(t=!1){Ks.push(je=t?null:[])}function lu(){Ks.pop(),je=Ks[Ks.length-1]||null}let er=1;function $i(t,e=!1){er+=t,t<0&&je&&e&&(je.hasOnce=!0)}function qa(t){return t.dynamicChildren=er>0?je||_s:null,lu(),er>0&&je&&je.push(t),t}function $e(t,e,s,r,n,i){return qa(ie(t,e,s,r,n,i,!0))}function Va(t,e,s,r,n){return qa(ue(t,e,s,r,n,!0))}function $r(t){return t?t.__v_isVNode===!0:!1}function js(t,e){return t.type===e.type&&t.key===e.key}const Ha=({key:t})=>t??null,kr=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?le(t)||me(t)||q(t)?{i:Ce,r:t,k:e,f:!!s}:t:null);function ie(t,e=null,s=null,r=0,n=null,i=t===Xe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Ha(e),ref:e&&kr(e),scopeId:ya,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Ce};return a?(ci(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=le(s)?8:16),er>0&&!o&&je&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&je.push(l),l}const ue=cu;function cu(t,e=null,s=null,r=0,n=null,i=!1){if((!t||t===Cc)&&(t=It),$r(t)){const a=Ss(t,e,!0);return s&&ci(a,s),er>0&&!i&&je&&(a.shapeFlag&6?je[je.indexOf(t)]=a:je.push(a)),a.patchFlag=-2,a}if(Su(t)&&(t=t.__vccOpts),e){e=uu(e);let{class:a,style:l}=e;a&&!le(a)&&(e.class=vs(a)),ne(l)&&(ri(l)&&!M(l)&&(l=ve({},l)),e.style=Jn(l))}const o=le(t)?1:Fa(t)?128:vc(t)?64:ne(t)?4:q(t)?2:0;return ie(t,e,s,r,n,o,i,!0)}function uu(t){return t?ri(t)||Ra(t)?ve({},t):t:null}function Ss(t,e,s=!1,r=!1){const{props:n,ref:i,patchFlag:o,children:a,transition:l}=t,c=e?du(n||{},e):n,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:c,key:c&&Ha(c),ref:e&&e.ref?s&&i?M(i)?i.concat(kr(e)):[i,kr(e)]:kr(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Xe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ss(t.ssContent),ssFallback:t.ssFallback&&Ss(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&r&&oi(u,l.clone(u)),u}function hu(t=" ",e=0){return ue(Gr,null,t,e)}function zp(t,e){const s=ue(Tr,null,t);return s.staticCount=e,s}function pr(t="",e=!1){return e?(Pe(),Va(It,null,t)):ue(It,null,t)}function et(t){return t==null||typeof t=="boolean"?ue(It):M(t)?ue(Xe,null,t.slice()):$r(t)?Ot(t):ue(Gr,null,String(t))}function Ot(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ss(t)}function ci(t,e){let s=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(M(e))s=16;else if(typeof e=="object")if(r&65){const n=e.default;n&&(n._c&&(n._d=!1),ci(t,n()),n._c&&(n._d=!0));return}else{s=32;const n=e._;!n&&!Ra(e)?e._ctx=Ce:n===3&&Ce&&(Ce.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else q(e)?(e={default:e,_ctx:Ce},s=32):(e=String(e),r&64?(s=16,e=[hu(e)]):s=8);t.children=e,t.shapeFlag|=s}function du(...t){const e={};for(let s=0;s<t.length;s++){const r=t[s];for(const n in r)if(n==="class")e.class!==r.class&&(e.class=vs([e.class,r.class]));else if(n==="style")e.style=Jn([e.style,r.style]);else if(Mr(n)){const i=e[n],o=r[n];o&&i!==o&&!(M(i)&&i.includes(o))&&(e[n]=i?[].concat(i,o):o)}else n!==""&&(e[n]=r[n])}return e}function Qe(t,e,s,r=null){nt(t,e,7,[s,r])}const fu=Oa();let pu=0;function gu(t,e,s){const r=t.type,n=(e?e.appContext:t.appContext)||fu,i={uid:pu++,vnode:t,type:r,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Bl(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ja(r,n),emitsOptions:Ba(r,n),emit:null,emitted:null,propsDefaults:ee,inheritAttrs:r.inheritAttrs,ctx:ee,data:ee,props:ee,attrs:ee,slots:ee,refs:ee,setupState:ee,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=su.bind(null,i),t.ce&&t.ce(i),i}let _e=null;const _u=()=>_e||Ce;let Lr,xn;{const t=Fr(),e=(s,r)=>{let n;return(n=t[s])||(n=t[s]=[]),n.push(r),i=>{n.length>1?n.forEach(o=>o(i)):n[0](i)}};Lr=e("__VUE_INSTANCE_SETTERS__",s=>_e=s),xn=e("__VUE_SSR_SETTERS__",s=>tr=s)}const lr=t=>{const e=_e;return Lr(t),t.scope.on(),()=>{t.scope.off(),Lr(e)}},Li=()=>{_e&&_e.scope.off(),Lr(null)};function Ka(t){return t.vnode.shapeFlag&4}let tr=!1;function mu(t,e=!1,s=!1){e&&xn(e);const{props:r,children:n}=t.vnode,i=Ka(t);qc(t,r,i,e),Wc(t,n,s||e);const o=i?vu(t,e):void 0;return e&&xn(!1),o}function vu(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,$c);const{setup:r}=s;if(r){_t();const n=t.setupContext=r.length>1?bu(t):null,i=lr(t),o=ar(r,t,0,[t.props,n]),a=Ko(o);if(mt(),i(),(a||t.sp)&&!Vs(t)&&ba(t),a){if(o.then(Li,Li),e)return o.then(l=>{Ui(t,l)}).catch(l=>{Hr(l,t,0)});t.asyncDep=o}else Ui(t,o)}else Wa(t)}function Ui(t,e,s){q(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ne(e)&&(t.setupState=pa(e)),Wa(t)}function Wa(t,e,s){const r=t.type;t.render||(t.render=r.render||st);{const n=lr(t);_t();try{Lc(t)}finally{mt(),n()}}}const yu={get(t,e){return ge(t,"get",""),t[e]}};function bu(t){const e=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,yu),slots:t.slots,emit:t.emit,expose:e}}function Jr(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(pa(oc(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in Hs)return Hs[s](t)},has(e,s){return s in e||s in Hs}})):t.proxy}function wu(t,e=!0){return q(t)?t.displayName||t.name:t.name||e&&t.__name}function Su(t){return q(t)&&"__vccOpts"in t}const ae=(t,e)=>hc(t,e,tr);function za(t,e,s){const r=arguments.length;return r===2?ne(e)&&!M(e)?$r(e)?ue(t,null,[e]):ue(t,e):ue(t,null,e):(r>3?s=Array.prototype.slice.call(arguments,2):r===3&&$r(s)&&(s=[s]),ue(t,e,s))}const Eu="3.5.18";/**
* @vue/runtime-dom v3.5.18
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Rn;const Di=typeof window<"u"&&window.trustedTypes;if(Di)try{Rn=Di.createPolicy("vue",{createHTML:t=>t})}catch{}const Ga=Rn?t=>Rn.createHTML(t):t=>t,Tu="http://www.w3.org/2000/svg",ku="http://www.w3.org/1998/Math/MathML",ct=typeof document<"u"?document:null,Mi=ct&&ct.createElement("template"),Pu={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,r)=>{const n=e==="svg"?ct.createElementNS(Tu,t):e==="mathml"?ct.createElementNS(ku,t):s?ct.createElement(t,{is:s}):ct.createElement(t);return t==="select"&&r&&r.multiple!=null&&n.setAttribute("multiple",r.multiple),n},createText:t=>ct.createTextNode(t),createComment:t=>ct.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>ct.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,r,n,i){const o=s?s.previousSibling:e.lastChild;if(n&&(n===i||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),s),!(n===i||!(n=n.nextSibling)););else{Mi.innerHTML=Ga(r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t);const a=Mi.content;if(r==="svg"||r==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Ou=Symbol("_vtc");function Au(t,e,s){const r=t[Ou];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Ni=Symbol("_vod"),xu=Symbol("_vsh"),Ru=Symbol(""),Cu=/(^|;)\s*display\s*:/;function ju(t,e,s){const r=t.style,n=le(s);let i=!1;if(s&&!n){if(e)if(le(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();s[a]==null&&Pr(r,a,"")}else for(const o in e)s[o]==null&&Pr(r,o,"");for(const o in s)o==="display"&&(i=!0),Pr(r,o,s[o])}else if(n){if(e!==s){const o=r[Ru];o&&(s+=";"+o),r.cssText=s,i=Cu.test(s)}}else e&&t.removeAttribute("style");Ni in t&&(t[Ni]=i?r.display:"",t[xu]&&(r.display="none"))}const Bi=/\s*!important$/;function Pr(t,e,s){if(M(s))s.forEach(r=>Pr(t,e,r));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const r=Iu(t,e);Bi.test(s)?t.setProperty(Gt(r),s.replace(Bi,""),"important"):t[r]=s}}const Fi=["Webkit","Moz","ms"],an={};function Iu(t,e){const s=an[e];if(s)return s;let r=De(e);if(r!=="filter"&&r in t)return an[e]=r;r=Br(r);for(let n=0;n<Fi.length;n++){const i=Fi[n]+r;if(i in t)return an[e]=i}return e}const qi="http://www.w3.org/1999/xlink";function Vi(t,e,s,r,n,i=Ml(e)){r&&e.startsWith("xlink:")?s==null?t.removeAttributeNS(qi,e.slice(6,e.length)):t.setAttributeNS(qi,e,s):s==null||i&&!Go(s)?t.removeAttribute(e):t.setAttribute(e,i?"":rt(s)?String(s):s)}function Hi(t,e,s,r,n){if(e==="innerHTML"||e==="textContent"){s!=null&&(t[e]=e==="innerHTML"?Ga(s):s);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=s==null?t.type==="checkbox"?"on":"":String(s);(a!==l||!("_value"in t))&&(t.value=l),s==null&&t.removeAttribute(e),t._value=s;return}let o=!1;if(s===""||s==null){const a=typeof t[e];a==="boolean"?s=Go(s):s==null&&a==="string"?(s="",o=!0):a==="number"&&(s=0,o=!0)}try{t[e]=s}catch{}o&&t.removeAttribute(n||e)}function pt(t,e,s,r){t.addEventListener(e,s,r)}function $u(t,e,s,r){t.removeEventListener(e,s,r)}const Ki=Symbol("_vei");function Lu(t,e,s,r,n=null){const i=t[Ki]||(t[Ki]={}),o=i[e];if(r&&o)o.value=r;else{const[a,l]=Uu(e);if(r){const c=i[e]=Nu(r,n);pt(t,a,c,l)}else o&&($u(t,a,o,l),i[e]=void 0)}}const Wi=/(?:Once|Passive|Capture)$/;function Uu(t){let e;if(Wi.test(t)){e={};let r;for(;r=t.match(Wi);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Gt(t.slice(2)),e]}let ln=0;const Du=Promise.resolve(),Mu=()=>ln||(Du.then(()=>ln=0),ln=Date.now());function Nu(t,e){const s=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=s.attached)return;nt(Bu(r,s.value),e,5,[r])};return s.value=t,s.attached=Mu(),s}function Bu(t,e){if(M(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(r=>n=>!n._stopped&&r&&r(n))}else return e}const zi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Fu=(t,e,s,r,n,i)=>{const o=n==="svg";e==="class"?Au(t,r,o):e==="style"?ju(t,s,r):Mr(e)?Wn(e)||Lu(t,e,s,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):qu(t,e,r,o))?(Hi(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Vi(t,e,r,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!le(r))?Hi(t,De(e),r,i,e):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),Vi(t,e,r,o))};function qu(t,e,s,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&zi(e)&&q(s));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=t.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return zi(e)&&le(s)?!1:e in t}const $t=t=>{const e=t.props["onUpdate:modelValue"]||!1;return M(e)?s=>wr(e,s):e};function Vu(t){t.target.composing=!0}function Gi(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const Ue=Symbol("_assign"),Ji={created(t,{modifiers:{lazy:e,trim:s,number:r}},n){t[Ue]=$t(n);const i=r||n.props&&n.props.type==="number";pt(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;s&&(a=a.trim()),i&&(a=Or(a)),t[Ue](a)}),s&&pt(t,"change",()=>{t.value=t.value.trim()}),e||(pt(t,"compositionstart",Vu),pt(t,"compositionend",Gi),pt(t,"change",Gi))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:s,modifiers:{lazy:r,trim:n,number:i}},o){if(t[Ue]=$t(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?Or(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(r&&e===s||n&&t.value.trim()===l)||(t.value=l))}},Hu={deep:!0,created(t,e,s){t[Ue]=$t(s),pt(t,"change",()=>{const r=t._modelValue,n=Es(t),i=t.checked,o=t[Ue];if(M(r)){const a=Zn(r,n),l=a!==-1;if(i&&!l)o(r.concat(n));else if(!i&&l){const c=[...r];c.splice(a,1),o(c)}}else if(Os(r)){const a=new Set(r);i?a.add(n):a.delete(n),o(a)}else o(Ja(t,i))})},mounted:Zi,beforeUpdate(t,e,s){t[Ue]=$t(s),Zi(t,e,s)}};function Zi(t,{value:e,oldValue:s},r){t._modelValue=e;let n;if(M(e))n=Zn(e,r.props.value)>-1;else if(Os(e))n=e.has(r.props.value);else{if(e===s)return;n=zt(e,Ja(t,!0))}t.checked!==n&&(t.checked=n)}const Ku={created(t,{value:e},s){t.checked=zt(e,s.props.value),t[Ue]=$t(s),pt(t,"change",()=>{t[Ue](Es(t))})},beforeUpdate(t,{value:e,oldValue:s},r){t[Ue]=$t(r),e!==s&&(t.checked=zt(e,r.props.value))}},Wu={deep:!0,created(t,{value:e,modifiers:{number:s}},r){const n=Os(e);pt(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>s?Or(Es(o)):Es(o));t[Ue](t.multiple?n?new Set(i):i:i[0]),t._assigning=!0,ni(()=>{t._assigning=!1})}),t[Ue]=$t(r)},mounted(t,{value:e}){Qi(t,e)},beforeUpdate(t,e,s){t[Ue]=$t(s)},updated(t,{value:e}){t._assigning||Qi(t,e)}};function Qi(t,e){const s=t.multiple,r=M(e);if(!(s&&!r&&!Os(e))){for(let n=0,i=t.options.length;n<i;n++){const o=t.options[n],a=Es(o);if(s)if(r){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(c=>String(c)===String(a)):o.selected=Zn(e,a)>-1}else o.selected=e.has(a);else if(zt(Es(o),e)){t.selectedIndex!==n&&(t.selectedIndex=n);return}}!s&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Es(t){return"_value"in t?t._value:t.value}function Ja(t,e){const s=e?"_trueValue":"_falseValue";return s in t?t[s]:e}const Gp={created(t,e,s){gr(t,e,s,null,"created")},mounted(t,e,s){gr(t,e,s,null,"mounted")},beforeUpdate(t,e,s,r){gr(t,e,s,r,"beforeUpdate")},updated(t,e,s,r){gr(t,e,s,r,"updated")}};function zu(t,e){switch(t){case"SELECT":return Wu;case"TEXTAREA":return Ji;default:switch(e){case"checkbox":return Hu;case"radio":return Ku;default:return Ji}}}function gr(t,e,s,r,n){const o=zu(t.tagName,s.props&&s.props.type)[n];o&&o(t,e,s,r)}const Gu=["ctrl","shift","alt","meta"],Ju={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>Gu.some(s=>t[`${s}Key`]&&!e.includes(s))},Jp=(t,e)=>{const s=t._withMods||(t._withMods={}),r=e.join(".");return s[r]||(s[r]=(n,...i)=>{for(let o=0;o<e.length;o++){const a=Ju[e[o]];if(a&&a(n,e))return}return t(n,...i)})},Zu=ve({patchProp:Fu},Pu);let Yi;function Qu(){return Yi||(Yi=Gc(Zu))}const Yu=(...t)=>{const e=Qu().createApp(...t),{mount:s}=e;return e.mount=r=>{const n=eh(r);if(!n)return;const i=e._component;!q(i)&&!i.render&&!i.template&&(i.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=s(n,!1,Xu(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function Xu(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function eh(t){return le(t)?document.querySelector(t):t}/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const ds=typeof document<"u";function Za(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function th(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Za(t.default)}const G=Object.assign;function cn(t,e){const s={};for(const r in e){const n=e[r];s[r]=Ve(n)?n.map(t):t(n)}return s}const Ws=()=>{},Ve=Array.isArray,Qa=/#/g,sh=/&/g,rh=/\//g,nh=/=/g,ih=/\?/g,Ya=/\+/g,oh=/%5B/g,ah=/%5D/g,Xa=/%5E/g,lh=/%60/g,el=/%7B/g,ch=/%7C/g,tl=/%7D/g,uh=/%20/g;function ui(t){return encodeURI(""+t).replace(ch,"|").replace(oh,"[").replace(ah,"]")}function hh(t){return ui(t).replace(el,"{").replace(tl,"}").replace(Xa,"^")}function Cn(t){return ui(t).replace(Ya,"%2B").replace(uh,"+").replace(Qa,"%23").replace(sh,"%26").replace(lh,"`").replace(el,"{").replace(tl,"}").replace(Xa,"^")}function dh(t){return Cn(t).replace(nh,"%3D")}function fh(t){return ui(t).replace(Qa,"%23").replace(ih,"%3F")}function ph(t){return t==null?"":fh(t).replace(rh,"%2F")}function sr(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const gh=/\/$/,_h=t=>t.replace(gh,"");function un(t,e,s="/"){let r,n={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),n=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=bh(r??e,s),{fullPath:r+(i&&"?")+i+o,path:r,query:n,hash:sr(o)}}function mh(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function Xi(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function vh(t,e,s){const r=e.matched.length-1,n=s.matched.length-1;return r>-1&&r===n&&Ts(e.matched[r],s.matched[n])&&sl(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function Ts(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function sl(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!yh(t[s],e[s]))return!1;return!0}function yh(t,e){return Ve(t)?eo(t,e):Ve(e)?eo(e,t):t===e}function eo(t,e){return Ve(e)?t.length===e.length&&t.every((s,r)=>s===e[r]):t.length===1&&t[0]===e}function bh(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),r=t.split("/"),n=r[r.length-1];(n===".."||n===".")&&r.push("");let i=s.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+r.slice(o).join("/")}const St={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var rr;(function(t){t.pop="pop",t.push="push"})(rr||(rr={}));var zs;(function(t){t.back="back",t.forward="forward",t.unknown=""})(zs||(zs={}));function wh(t){if(!t)if(ds){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),_h(t)}const Sh=/^[^#]+#/;function Eh(t,e){return t.replace(Sh,"#")+e}function Th(t,e){const s=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-s.left-(e.left||0),top:r.top-s.top-(e.top||0)}}const Zr=()=>({left:window.scrollX,top:window.scrollY});function kh(t){let e;if("el"in t){const s=t.el,r=typeof s=="string"&&s.startsWith("#"),n=typeof s=="string"?r?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!n)return;e=Th(n,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function to(t,e){return(history.state?history.state.position-e:-1)+t}const jn=new Map;function Ph(t,e){jn.set(t,e)}function Oh(t){const e=jn.get(t);return jn.delete(t),e}let Ah=()=>location.protocol+"//"+location.host;function rl(t,e){const{pathname:s,search:r,hash:n}=e,i=t.indexOf("#");if(i>-1){let a=n.includes(t.slice(i))?t.slice(i).length:1,l=n.slice(a);return l[0]!=="/"&&(l="/"+l),Xi(l,"")}return Xi(s,t)+r+n}function xh(t,e,s,r){let n=[],i=[],o=null;const a=({state:d})=>{const g=rl(t,location),m=s.value,E=e.value;let T=0;if(d){if(s.value=g,e.value=d,o&&o===m){o=null;return}T=E?d.position-E.position:0}else r(g);n.forEach(A=>{A(s.value,m,{delta:T,type:rr.pop,direction:T?T>0?zs.forward:zs.back:zs.unknown})})};function l(){o=s.value}function c(d){n.push(d);const g=()=>{const m=n.indexOf(d);m>-1&&n.splice(m,1)};return i.push(g),g}function u(){const{history:d}=window;d.state&&d.replaceState(G({},d.state,{scroll:Zr()}),"")}function h(){for(const d of i)d();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function so(t,e,s,r=!1,n=!1){return{back:t,current:e,forward:s,replaced:r,position:window.history.length,scroll:n?Zr():null}}function Rh(t){const{history:e,location:s}=window,r={value:rl(t,s)},n={value:e.state};n.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=t.indexOf("#"),d=h>-1?(s.host&&document.querySelector("base")?t:t.slice(h))+l:Ah()+t+l;try{e[u?"replaceState":"pushState"](c,"",d),n.value=c}catch(g){console.error(g),s[u?"replace":"assign"](d)}}function o(l,c){const u=G({},e.state,so(n.value.back,l,n.value.forward,!0),c,{position:n.value.position});i(l,u,!0),r.value=l}function a(l,c){const u=G({},n.value,e.state,{forward:l,scroll:Zr()});i(u.current,u,!0);const h=G({},so(r.value,l,null),{position:u.position+1},c);i(l,h,!1),r.value=l}return{location:r,state:n,push:a,replace:o}}function Ch(t){t=wh(t);const e=Rh(t),s=xh(t,e.state,e.location,e.replace);function r(i,o=!0){o||s.pauseListeners(),history.go(i)}const n=G({location:"",base:t,go:r,createHref:Eh.bind(null,t)},e,s);return Object.defineProperty(n,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(n,"state",{enumerable:!0,get:()=>e.state.value}),n}function jh(t){return typeof t=="string"||t&&typeof t=="object"}function nl(t){return typeof t=="string"||typeof t=="symbol"}const il=Symbol("");var ro;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(ro||(ro={}));function ks(t,e){return G(new Error,{type:t,[il]:!0},e)}function at(t,e){return t instanceof Error&&il in t&&(e==null||!!(t.type&e))}const no="[^/]+?",Ih={sensitive:!1,strict:!1,start:!0,end:!0},$h=/[.+*?^${}()[\]/\\]/g;function Lh(t,e){const s=G({},Ih,e),r=[];let n=s.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[90];s.strict&&!c.length&&(n+="/");for(let h=0;h<c.length;h++){const d=c[h];let g=40+(s.sensitive?.25:0);if(d.type===0)h||(n+="/"),n+=d.value.replace($h,"\\$&"),g+=40;else if(d.type===1){const{value:m,repeatable:E,optional:T,regexp:A}=d;i.push({name:m,repeatable:E,optional:T});const C=A||no;if(C!==no){g+=10;try{new RegExp(`(${C})`)}catch(P){throw new Error(`Invalid custom RegExp for param "${m}" (${C}): `+P.message)}}let S=E?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;h||(S=T&&c.length<2?`(?:/${S})`:"/"+S),T&&(S+="?"),n+=S,g+=20,T&&(g+=-8),E&&(g+=-20),C===".*"&&(g+=-50)}u.push(g)}r.push(u)}if(s.strict&&s.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}s.strict||(n+="/?"),s.end?n+="$":s.strict&&!n.endsWith("/")&&(n+="(?:/|$)");const o=new RegExp(n,s.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let d=1;d<u.length;d++){const g=u[d]||"",m=i[d-1];h[m.name]=g&&m.repeatable?g.split("/"):g}return h}function l(c){let u="",h=!1;for(const d of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const g of d)if(g.type===0)u+=g.value;else if(g.type===1){const{value:m,repeatable:E,optional:T}=g,A=m in c?c[m]:"";if(Ve(A)&&!E)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const C=Ve(A)?A.join("/"):A;if(!C)if(T)d.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${m}"`);u+=C}}return u||"/"}return{re:o,score:r,keys:i,parse:a,stringify:l}}function Uh(t,e){let s=0;for(;s<t.length&&s<e.length;){const r=e[s]-t[s];if(r)return r;s++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function ol(t,e){let s=0;const r=t.score,n=e.score;for(;s<r.length&&s<n.length;){const i=Uh(r[s],n[s]);if(i)return i;s++}if(Math.abs(n.length-r.length)===1){if(io(r))return 1;if(io(n))return-1}return n.length-r.length}function io(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Dh={type:0,value:""},Mh=/[a-zA-Z0-9_]/;function Nh(t){if(!t)return[[]];if(t==="/")return[[Dh]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${s})/"${c}": ${g}`)}let s=0,r=s;const n=[];let i;function o(){i&&n.push(i),i=[]}let a=0,l,c="",u="";function h(){c&&(s===0?i.push({type:0,value:c}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function d(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==2){r=s,s=4;continue}switch(s){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),s=1):d();break;case 4:d(),s=r;break;case 1:l==="("?s=2:Mh.test(l)?d():(h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:s=3:u+=l;break;case 3:h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),n}function Bh(t,e,s){const r=Lh(Nh(t.path),s),n=G(r,{record:t,parent:e,children:[],alias:[]});return e&&!n.record.aliasOf==!e.record.aliasOf&&e.children.push(n),n}function Fh(t,e){const s=[],r=new Map;e=co({strict:!1,end:!0,sensitive:!1},e);function n(h){return r.get(h)}function i(h,d,g){const m=!g,E=ao(h);E.aliasOf=g&&g.record;const T=co(e,h),A=[E];if("alias"in h){const P=typeof h.alias=="string"?[h.alias]:h.alias;for(const B of P)A.push(ao(G({},E,{components:g?g.record.components:E.components,path:B,aliasOf:g?g.record:E})))}let C,S;for(const P of A){const{path:B}=P;if(d&&B[0]!=="/"){const H=d.record.path,F=H[H.length-1]==="/"?"":"/";P.path=d.record.path+(B&&F+B)}if(C=Bh(P,d,T),g?g.alias.push(C):(S=S||C,S!==C&&S.alias.push(C),m&&h.name&&!lo(C)&&o(h.name)),al(C)&&l(C),E.children){const H=E.children;for(let F=0;F<H.length;F++)i(H[F],C,g&&g.children[F])}g=g||C}return S?()=>{o(S)}:Ws}function o(h){if(nl(h)){const d=r.get(h);d&&(r.delete(h),s.splice(s.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=s.indexOf(h);d>-1&&(s.splice(d,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return s}function l(h){const d=Hh(h,s);s.splice(d,0,h),h.record.name&&!lo(h)&&r.set(h.record.name,h)}function c(h,d){let g,m={},E,T;if("name"in h&&h.name){if(g=r.get(h.name),!g)throw ks(1,{location:h});T=g.record.name,m=G(oo(d.params,g.keys.filter(S=>!S.optional).concat(g.parent?g.parent.keys.filter(S=>S.optional):[]).map(S=>S.name)),h.params&&oo(h.params,g.keys.map(S=>S.name))),E=g.stringify(m)}else if(h.path!=null)E=h.path,g=s.find(S=>S.re.test(E)),g&&(m=g.parse(E),T=g.record.name);else{if(g=d.name?r.get(d.name):s.find(S=>S.re.test(d.path)),!g)throw ks(1,{location:h,currentLocation:d});T=g.record.name,m=G({},d.params,h.params),E=g.stringify(m)}const A=[];let C=g;for(;C;)A.unshift(C.record),C=C.parent;return{name:T,path:E,params:m,matched:A,meta:Vh(A)}}t.forEach(h=>i(h));function u(){s.length=0,r.clear()}return{addRoute:i,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:n}}function oo(t,e){const s={};for(const r of e)r in t&&(s[r]=t[r]);return s}function ao(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:qh(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function qh(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const r in t.components)e[r]=typeof s=="object"?s[r]:s;return e}function lo(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Vh(t){return t.reduce((e,s)=>G(e,s.meta),{})}function co(t,e){const s={};for(const r in t)s[r]=r in e?e[r]:t[r];return s}function Hh(t,e){let s=0,r=e.length;for(;s!==r;){const i=s+r>>1;ol(t,e[i])<0?r=i:s=i+1}const n=Kh(t);return n&&(r=e.lastIndexOf(n,r-1)),r}function Kh(t){let e=t;for(;e=e.parent;)if(al(e)&&ol(t,e)===0)return e}function al({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Wh(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let n=0;n<r.length;++n){const i=r[n].replace(Ya," "),o=i.indexOf("="),a=sr(o<0?i:i.slice(0,o)),l=o<0?null:sr(i.slice(o+1));if(a in e){let c=e[a];Ve(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function uo(t){let e="";for(let s in t){const r=t[s];if(s=dh(s),r==null){r!==void 0&&(e+=(e.length?"&":"")+s);continue}(Ve(r)?r.map(i=>i&&Cn(i)):[r&&Cn(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+s,i!=null&&(e+="="+i))})}return e}function zh(t){const e={};for(const s in t){const r=t[s];r!==void 0&&(e[s]=Ve(r)?r.map(n=>n==null?null:""+n):r==null?r:""+r)}return e}const Gh=Symbol(""),ho=Symbol(""),Qr=Symbol(""),hi=Symbol(""),In=Symbol("");function Is(){let t=[];function e(r){return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function At(t,e,s,r,n,i=o=>o()){const o=r&&(r.enterCallbacks[n]=r.enterCallbacks[n]||[]);return()=>new Promise((a,l)=>{const c=d=>{d===!1?l(ks(4,{from:s,to:e})):d instanceof Error?l(d):jh(d)?l(ks(2,{from:e,to:d})):(o&&r.enterCallbacks[n]===o&&typeof d=="function"&&o.push(d),a())},u=i(()=>t.call(r&&r.instances[n],e,s,c));let h=Promise.resolve(u);t.length<3&&(h=h.then(c)),h.catch(d=>l(d))})}function hn(t,e,s,r,n=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Za(l)){const u=(l.__vccOpts||l)[e];u&&i.push(At(u,s,r,o,a,n))}else{let c=l();i.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const h=th(u)?u.default:u;o.mods[a]=u,o.components[a]=h;const g=(h.__vccOpts||h)[e];return g&&At(g,s,r,o,a,n)()}))}}return i}function fo(t){const e=qe(Qr),s=qe(hi),r=ae(()=>{const l=Be(t.to);return e.resolve(l)}),n=ae(()=>{const{matched:l}=r.value,{length:c}=l,u=l[c-1],h=s.matched;if(!u||!h.length)return-1;const d=h.findIndex(Ts.bind(null,u));if(d>-1)return d;const g=po(l[c-2]);return c>1&&po(u)===g&&h[h.length-1].path!==g?h.findIndex(Ts.bind(null,l[c-2])):d}),i=ae(()=>n.value>-1&&Xh(s.params,r.value.params)),o=ae(()=>n.value>-1&&n.value===s.matched.length-1&&sl(s.params,r.value.params));function a(l={}){if(Yh(l)){const c=e[Be(t.replace)?"replace":"push"](Be(t.to)).catch(Ws);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:r,href:ae(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}function Jh(t){return t.length===1?t[0]:t}const Zh=Kr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:fo,setup(t,{slots:e}){const s=Vr(fo(t)),{options:r}=qe(Qr),n=ae(()=>({[go(t.activeClass,r.linkActiveClass,"router-link-active")]:s.isActive,[go(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&Jh(e.default(s));return t.custom?i:za("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:n.value},i)}}}),Qh=Zh;function Yh(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function Xh(t,e){for(const s in e){const r=e[s],n=t[s];if(typeof r=="string"){if(r!==n)return!1}else if(!Ve(n)||n.length!==r.length||r.some((i,o)=>i!==n[o]))return!1}return!0}function po(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const go=(t,e,s)=>t??e??s,ed=Kr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const r=qe(In),n=ae(()=>t.route||r.value),i=qe(ho,0),o=ae(()=>{let c=Be(i);const{matched:u}=n.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=ae(()=>n.value.matched[o.value]);Sr(ho,ae(()=>o.value+1)),Sr(Gh,a),Sr(In,n);const l=or();return Er(()=>[l.value,a.value,t.name],([c,u,h],[d,g,m])=>{u&&(u.instances[h]=c,g&&g!==u&&c&&c===d&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),c&&u&&(!g||!Ts(u,g)||!d)&&(u.enterCallbacks[h]||[]).forEach(E=>E(c))},{flush:"post"}),()=>{const c=n.value,u=t.name,h=a.value,d=h&&h.components[u];if(!d)return _o(s.default,{Component:d,route:c});const g=h.props[u],m=g?g===!0?c.params:typeof g=="function"?g(c):g:null,T=za(d,G({},m,e,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return _o(s.default,{Component:T,route:c})||T}}});function _o(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const td=ed;function sd(t){const e=Fh(t.routes,t),s=t.parseQuery||Wh,r=t.stringifyQuery||uo,n=t.history,i=Is(),o=Is(),a=Is(),l=ac(St);let c=St;ds&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=cn.bind(null,y=>""+y),h=cn.bind(null,ph),d=cn.bind(null,sr);function g(y,$){let j,L;return nl(y)?(j=e.getRecordMatcher(y),L=$):L=y,e.addRoute(L,j)}function m(y){const $=e.getRecordMatcher(y);$&&e.removeRoute($)}function E(){return e.getRoutes().map(y=>y.record)}function T(y){return!!e.getRecordMatcher(y)}function A(y,$){if($=G({},$||l.value),typeof y=="string"){const _=un(s,y,$.path),v=e.resolve({path:_.path},$),w=n.createHref(_.fullPath);return G(_,v,{params:d(v.params),hash:sr(_.hash),redirectedFrom:void 0,href:w})}let j;if(y.path!=null)j=G({},y,{path:un(s,y.path,$.path).path});else{const _=G({},y.params);for(const v in _)_[v]==null&&delete _[v];j=G({},y,{params:h(_)}),$.params=h($.params)}const L=e.resolve(j,$),X=y.hash||"";L.params=u(d(L.params));const f=mh(r,G({},y,{hash:hh(X),path:L.path})),p=n.createHref(f);return G({fullPath:f,hash:X,query:r===uo?zh(y.query):y.query||{}},L,{redirectedFrom:void 0,href:p})}function C(y){return typeof y=="string"?un(s,y,l.value.path):G({},y)}function S(y,$){if(c!==y)return ks(8,{from:$,to:y})}function P(y){return F(y)}function B(y){return P(G(C(y),{replace:!0}))}function H(y){const $=y.matched[y.matched.length-1];if($&&$.redirect){const{redirect:j}=$;let L=typeof j=="function"?j(y):j;return typeof L=="string"&&(L=L.includes("?")||L.includes("#")?L=C(L):{path:L},L.params={}),G({query:y.query,hash:y.hash,params:L.path!=null?{}:y.params},L)}}function F(y,$){const j=c=A(y),L=l.value,X=y.state,f=y.force,p=y.replace===!0,_=H(j);if(_)return F(G(C(_),{state:typeof _=="object"?G({},X,_.state):X,force:f,replace:p}),$||j);const v=j;v.redirectedFrom=$;let w;return!f&&vh(r,L,j)&&(w=ks(16,{to:v,from:L}),ze(L,L,!0,!1)),(w?Promise.resolve(w):Ke(v,L)).catch(b=>at(b)?at(b,2)?b:wt(b):z(b,v,L)).then(b=>{if(b){if(at(b,2))return F(G({replace:p},C(b.to),{state:typeof b.to=="object"?G({},X,b.to.state):X,force:f}),$||v)}else b=Ut(v,L,!0,p,X);return bt(v,L,b),b})}function He(y,$){const j=S(y,$);return j?Promise.reject(j):Promise.resolve()}function yt(y){const $=Yt.values().next().value;return $&&typeof $.runWithContext=="function"?$.runWithContext(y):y()}function Ke(y,$){let j;const[L,X,f]=rd(y,$);j=hn(L.reverse(),"beforeRouteLeave",y,$);for(const _ of L)_.leaveGuards.forEach(v=>{j.push(At(v,y,$))});const p=He.bind(null,y,$);return j.push(p),Ie(j).then(()=>{j=[];for(const _ of i.list())j.push(At(_,y,$));return j.push(p),Ie(j)}).then(()=>{j=hn(X,"beforeRouteUpdate",y,$);for(const _ of X)_.updateGuards.forEach(v=>{j.push(At(v,y,$))});return j.push(p),Ie(j)}).then(()=>{j=[];for(const _ of f)if(_.beforeEnter)if(Ve(_.beforeEnter))for(const v of _.beforeEnter)j.push(At(v,y,$));else j.push(At(_.beforeEnter,y,$));return j.push(p),Ie(j)}).then(()=>(y.matched.forEach(_=>_.enterCallbacks={}),j=hn(f,"beforeRouteEnter",y,$,yt),j.push(p),Ie(j))).then(()=>{j=[];for(const _ of o.list())j.push(At(_,y,$));return j.push(p),Ie(j)}).catch(_=>at(_,8)?_:Promise.reject(_))}function bt(y,$,j){a.list().forEach(L=>yt(()=>L(y,$,j)))}function Ut(y,$,j,L,X){const f=S(y,$);if(f)return f;const p=$===St,_=ds?history.state:{};j&&(L||p?n.replace(y.fullPath,G({scroll:p&&_&&_.scroll},X)):n.push(y.fullPath,X)),l.value=y,ze(y,$,j,p),wt()}let We;function xs(){We||(We=n.listen((y,$,j)=>{if(!ur.listening)return;const L=A(y),X=H(L);if(X){F(G(X,{replace:!0,force:!0}),L).catch(Ws);return}c=L;const f=l.value;ds&&Ph(to(f.fullPath,j.delta),Zr()),Ke(L,f).catch(p=>at(p,12)?p:at(p,2)?(F(G(C(p.to),{force:!0}),L).then(_=>{at(_,20)&&!j.delta&&j.type===rr.pop&&n.go(-1,!1)}).catch(Ws),Promise.reject()):(j.delta&&n.go(-j.delta,!1),z(p,L,f))).then(p=>{p=p||Ut(L,f,!1),p&&(j.delta&&!at(p,8)?n.go(-j.delta,!1):j.type===rr.pop&&at(p,20)&&n.go(-1,!1)),bt(L,f,p)}).catch(Ws)}))}let Zt=Is(),he=Is(),Y;function z(y,$,j){wt(y);const L=he.list();return L.length?L.forEach(X=>X(y,$,j)):console.error(y),Promise.reject(y)}function it(){return Y&&l.value!==St?Promise.resolve():new Promise((y,$)=>{Zt.add([y,$])})}function wt(y){return Y||(Y=!y,xs(),Zt.list().forEach(([$,j])=>y?j(y):$()),Zt.reset()),y}function ze(y,$,j,L){const{scrollBehavior:X}=t;if(!ds||!X)return Promise.resolve();const f=!j&&Oh(to(y.fullPath,0))||(L||!j)&&history.state&&history.state.scroll||null;return ni().then(()=>X(y,$,f)).then(p=>p&&kh(p)).catch(p=>z(p,y,$))}const we=y=>n.go(y);let Qt;const Yt=new Set,ur={currentRoute:l,listening:!0,addRoute:g,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:T,getRoutes:E,resolve:A,options:t,push:P,replace:B,go:we,back:()=>we(-1),forward:()=>we(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:he.add,isReady:it,install(y){const $=this;y.component("RouterLink",Qh),y.component("RouterView",td),y.config.globalProperties.$router=$,Object.defineProperty(y.config.globalProperties,"$route",{enumerable:!0,get:()=>Be(l)}),ds&&!Qt&&l.value===St&&(Qt=!0,P(n.location).catch(X=>{}));const j={};for(const X in St)Object.defineProperty(j,X,{get:()=>l.value[X],enumerable:!0});y.provide(Qr,$),y.provide(hi,ha(j)),y.provide(In,l);const L=y.unmount;Yt.add(y),y.unmount=function(){Yt.delete(y),Yt.size<1&&(c=St,We&&We(),We=null,l.value=St,Qt=!1,Y=!1),L()}}};function Ie(y){return y.reduce(($,j)=>$.then(()=>yt(j)),Promise.resolve())}return ur}function rd(t,e){const s=[],r=[],n=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>Ts(c,a))?r.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Ts(c,l))||n.push(l))}return[s,r,n]}function nd(){return qe(Qr)}function id(t){return qe(hi)}const od="modulepreload",ad=function(t){return"/City_4C/"+t},mo={},Oe=function(e,s,r){let n=Promise.resolve();if(s&&s.length>0){let l=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");n=l(s.map(c=>{if(c=ad(c),c in mo)return;mo[c]=!0;const u=c.endsWith(".css"),h=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":od,u||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((g,m)=>{d.addEventListener("load",g),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return n.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},ld=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Oe(async()=>{const{default:r}=await Promise.resolve().then(()=>As);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)};class di extends Error{constructor(e,s="FunctionsError",r){super(e),this.name=s,this.context=r}}class cd extends di{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class vo extends di{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class yo extends di{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var $n;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})($n||($n={}));var ud=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class hd{constructor(e,{headers:s={},customFetch:r,region:n=$n.Any}={}){this.url=e,this.headers=s,this.region=n,this.fetch=ld(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var r;return ud(this,void 0,void 0,function*(){try{const{headers:n,method:i,body:o}=s;let a={},{region:l}=s;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let u;o&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",u=o):typeof o=="string"?(a["Content-Type"]="text/plain",u=o):typeof FormData<"u"&&o instanceof FormData?u=o:(a["Content-Type"]="application/json",u=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),n),body:u}).catch(E=>{throw new cd(E)}),d=h.headers.get("x-relay-error");if(d&&d==="true")throw new vo(h);if(!h.ok)throw new yo(h);let g=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),m;return g==="application/json"?m=yield h.json():g==="application/octet-stream"?m=yield h.blob():g==="text/event-stream"?m=h:g==="multipart/form-data"?m=yield h.formData():m=yield h.text(),{data:m,error:null,response:h}}catch(n){return{data:null,error:n,response:n instanceof yo||n instanceof vo?n.context:void 0}}})}}function dd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function fd(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var s=function r(){var n=!1;try{n=this instanceof r}catch{}return n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var n=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(s,r,n.get?n:{enumerable:!0,get:function(){return t[r]}})}),s}var de={},es={},ts={},ss={},rs={},ns={},pd=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ps=pd();const gd=Ps.fetch,ll=Ps.fetch.bind(Ps),cl=Ps.Headers,_d=Ps.Request,md=Ps.Response,As=Object.freeze(Object.defineProperty({__proto__:null,Headers:cl,Request:_d,Response:md,default:ll,fetch:gd},Symbol.toStringTag,{value:"Module"})),vd=fd(As);var _r={},bo;function ul(){if(bo)return _r;bo=1,Object.defineProperty(_r,"__esModule",{value:!0});class t extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return _r.default=t,_r}var wo;function hl(){if(wo)return ns;wo=1;var t=ns&&ns.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ns,"__esModule",{value:!0});const e=t(vd),s=t(ul());class r{constructor(i){this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=i.headers,this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=i.shouldThrowOnError,this.signal=i.signal,this.isMaybeSingle=i.isMaybeSingle,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=Object.assign({},this.headers),this.headers[i]=o,this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const a=this.fetch;let l=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{var u,h,d;let g=null,m=null,E=null,T=c.status,A=c.statusText;if(c.ok){if(this.method!=="HEAD"){const B=await c.text();B===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?m=B:m=JSON.parse(B))}const S=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),P=(h=c.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");S&&P&&P.length>1&&(E=parseInt(P[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(g={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,E=null,T=406,A="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const S=await c.text();try{g=JSON.parse(S),Array.isArray(g)&&c.status===404&&(m=[],g=null,T=200,A="OK")}catch{c.status===404&&S===""?(T=204,A="No Content"):g={message:S}}if(g&&this.isMaybeSingle&&(!((d=g?.details)===null||d===void 0)&&d.includes("0 rows"))&&(g=null,T=200,A="OK"),g&&this.shouldThrowOnError)throw new s.default(g)}return{error:g,data:m,count:E,status:T,statusText:A}});return this.shouldThrowOnError||(l=l.catch(c=>{var u,h,d;return{error:{message:`${(u=c?.name)!==null&&u!==void 0?u:"FetchError"}: ${c?.message}`,details:`${(h=c?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=c?.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),l.then(i,o)}returns(){return this}overrideTypes(){return this}}return ns.default=r,ns}var So;function dl(){if(So)return rs;So=1;var t=rs&&rs.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(rs,"__esModule",{value:!0});const e=t(hl());class s extends e.default{select(n){let i=!1;const o=(n??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${n}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,c=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${n}`),this.url.searchParams.set(c,`${i-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:c="text"}={}){var u;const h=[n?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${c}; for="${d}"; options=${h};`,c==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return rs.default=s,rs}var Eo;function fi(){if(Eo)return ss;Eo=1;var t=ss&&ss.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ss,"__esModule",{value:!0});const e=t(dl());class s extends e.default{eq(n,i){return this.url.searchParams.append(n,`eq.${i}`),this}neq(n,i){return this.url.searchParams.append(n,`neq.${i}`),this}gt(n,i){return this.url.searchParams.append(n,`gt.${i}`),this}gte(n,i){return this.url.searchParams.append(n,`gte.${i}`),this}lt(n,i){return this.url.searchParams.append(n,`lt.${i}`),this}lte(n,i){return this.url.searchParams.append(n,`lte.${i}`),this}like(n,i){return this.url.searchParams.append(n,`like.${i}`),this}likeAllOf(n,i){return this.url.searchParams.append(n,`like(all).{${i.join(",")}}`),this}likeAnyOf(n,i){return this.url.searchParams.append(n,`like(any).{${i.join(",")}}`),this}ilike(n,i){return this.url.searchParams.append(n,`ilike.${i}`),this}ilikeAllOf(n,i){return this.url.searchParams.append(n,`ilike(all).{${i.join(",")}}`),this}ilikeAnyOf(n,i){return this.url.searchParams.append(n,`ilike(any).{${i.join(",")}}`),this}is(n,i){return this.url.searchParams.append(n,`is.${i}`),this}in(n,i){const o=Array.from(new Set(i)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${o})`),this}contains(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cs.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cs.{${i.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(i)}`),this}containedBy(n,i){return typeof i=="string"?this.url.searchParams.append(n,`cd.${i}`):Array.isArray(i)?this.url.searchParams.append(n,`cd.{${i.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(i)}`),this}rangeGt(n,i){return this.url.searchParams.append(n,`sr.${i}`),this}rangeGte(n,i){return this.url.searchParams.append(n,`nxl.${i}`),this}rangeLt(n,i){return this.url.searchParams.append(n,`sl.${i}`),this}rangeLte(n,i){return this.url.searchParams.append(n,`nxr.${i}`),this}rangeAdjacent(n,i){return this.url.searchParams.append(n,`adj.${i}`),this}overlaps(n,i){return typeof i=="string"?this.url.searchParams.append(n,`ov.${i}`):this.url.searchParams.append(n,`ov.{${i.join(",")}}`),this}textSearch(n,i,{config:o,type:a}={}){let l="";a==="plain"?l="pl":a==="phrase"?l="ph":a==="websearch"&&(l="w");const c=o===void 0?"":`(${o})`;return this.url.searchParams.append(n,`${l}fts${c}.${i}`),this}match(n){return Object.entries(n).forEach(([i,o])=>{this.url.searchParams.append(i,`eq.${o}`)}),this}not(n,i,o){return this.url.searchParams.append(n,`not.${i}.${o}`),this}or(n,{foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,i,o){return this.url.searchParams.append(n,`${i}.${o}`),this}}return ss.default=s,ss}var To;function fl(){if(To)return ts;To=1;var t=ts&&ts.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ts,"__esModule",{value:!0});const e=t(fi());class s{constructor(n,{headers:i={},schema:o,fetch:a}){this.url=n,this.headers=i,this.schema=o,this.fetch=a}select(n,{head:i=!1,count:o}={}){const a=i?"HEAD":"GET";let l=!1;const c=(n??"*").split("").map(u=>/\s/.test(u)&&!l?"":(u==='"'&&(l=!l),u)).join("");return this.url.searchParams.set("select",c),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:i,defaultToNull:o=!0}={}){const a="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),i&&l.push(`count=${i}`),o||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(n)){const c=n.reduce((u,h)=>u.concat(Object.keys(h)),[]);if(c.length>0){const u=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){const c="POST",u=[`resolution=${o?"ignore":"merge"}-duplicates`];if(i!==void 0&&this.url.searchParams.set("on_conflict",i),this.headers.Prefer&&u.push(this.headers.Prefer),a&&u.push(`count=${a}`),l||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(n)){const h=n.reduce((d,g)=>d.concat(Object.keys(g)),[]);if(h.length>0){const d=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:i}={}){const o="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),this.headers.Prefer=a.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){const i="DELETE",o=[];return n&&o.push(`count=${n}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return ts.default=s,ts}var $s={},Ls={},ko;function yd(){return ko||(ko=1,Object.defineProperty(Ls,"__esModule",{value:!0}),Ls.version=void 0,Ls.version="0.0.0-automated"),Ls}var Po;function bd(){if(Po)return $s;Po=1,Object.defineProperty($s,"__esModule",{value:!0}),$s.DEFAULT_HEADERS=void 0;const t=yd();return $s.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},$s}var Oo;function wd(){if(Oo)return es;Oo=1;var t=es&&es.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(es,"__esModule",{value:!0});const e=t(fl()),s=t(fi()),r=bd();class n{constructor(o,{headers:a={},schema:l,fetch:c}={}){this.url=o,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=c}from(o){const a=new URL(`${this.url}/${o}`);return new e.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,a={},{head:l=!1,get:c=!1,count:u}={}){let h;const d=new URL(`${this.url}/rpc/${o}`);let g;l||c?(h=l?"HEAD":"GET",Object.entries(a).filter(([E,T])=>T!==void 0).map(([E,T])=>[E,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([E,T])=>{d.searchParams.append(E,T)})):(h="POST",g=a);const m=Object.assign({},this.headers);return u&&(m.Prefer=`count=${u}`),new s.default({method:h,url:d,headers:m,schema:this.schemaName,body:g,fetch:this.fetch,allowEmpty:!1})}}return es.default=n,es}var Ao;function Sd(){if(Ao)return de;Ao=1;var t=de&&de.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(de,"__esModule",{value:!0}),de.PostgrestError=de.PostgrestBuilder=de.PostgrestTransformBuilder=de.PostgrestFilterBuilder=de.PostgrestQueryBuilder=de.PostgrestClient=void 0;const e=t(wd());de.PostgrestClient=e.default;const s=t(fl());de.PostgrestQueryBuilder=s.default;const r=t(fi());de.PostgrestFilterBuilder=r.default;const n=t(dl());de.PostgrestTransformBuilder=n.default;const i=t(hl());de.PostgrestBuilder=i.default;const o=t(ul());return de.PostgrestError=o.default,de.default={PostgrestClient:e.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:n.default,PostgrestBuilder:i.default,PostgrestError:o.default},de}var Ed=Sd();const Td=dd(Ed),{PostgrestClient:kd,PostgrestQueryBuilder:Zp,PostgrestFilterBuilder:Qp,PostgrestTransformBuilder:Yp,PostgrestBuilder:Xp,PostgrestError:eg}=Td;class Pd{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const s=parseInt(process.versions.node.split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const r=this.getWebSocketConstructor();return new r(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Od="2.15.1",Ad=`realtime-js/${Od}`,xd="1.0.0",Ln=1e4,Rd=1e3,Cd=100;var Gs;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Gs||(Gs={}));var ce;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ce||(ce={}));var Ne;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ne||(Ne={}));var Un;(function(t){t.websocket="websocket"})(Un||(Un={}));var Kt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Kt||(Kt={}));class jd{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,s,r)}_decodeBroadcast(e,s,r){const n=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+n));o=o+n;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class pl{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var se;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(se||(se={}));const xo=(t,e,s={})=>{var r;const n=(r=s.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Id(o,t,e,n),i),{})},Id=(t,e,s,r)=>{const n=e.find(a=>a.name===t),i=n?.type,o=s[t];return i&&!r.includes(i)?gl(i,o):Dn(o)},gl=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return Dd(e,s)}switch(t){case se.bool:return $d(e);case se.float4:case se.float8:case se.int2:case se.int4:case se.int8:case se.numeric:case se.oid:return Ld(e);case se.json:case se.jsonb:return Ud(e);case se.timestamp:return Md(e);case se.abstime:case se.date:case se.daterange:case se.int4range:case se.int8range:case se.money:case se.reltime:case se.text:case se.time:case se.timestamptz:case se.timetz:case se.tsrange:case se.tstzrange:return Dn(e);default:return Dn(e)}},Dn=t=>t,$d=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Ld=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Ud=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Dd=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,r=t[s];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>gl(e,a))}return t},Md=t=>typeof t=="string"?t.replace(" ","T"):t,_l=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class dn{constructor(e,s,r={},n=Ln){this.channel=e,this.event=s,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var r;return this._hasReceived(e)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Ro;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Ro||(Ro={}));class Js{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Js.syncState(this.state,n,i,o),this.pendingDiffs.forEach(l=>{this.state=Js.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},n=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Js.syncDiff(this.state,n,i,o),a())}),this.onJoin((n,i,o)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:i,newPresences:o})}),this.onLeave((n,i,o)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,r,n){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=i[c];if(h){const d=u.map(T=>T.presence_ref),g=h.map(T=>T.presence_ref),m=u.filter(T=>g.indexOf(T.presence_ref)<0),E=h.filter(T=>d.indexOf(T.presence_ref)<0);m.length>0&&(a[c]=m),E.length>0&&(l[c]=E)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},r,n)}static syncDiff(e,s,r,n){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(g=>g.presence_ref),d=u.filter(g=>h.indexOf(g.presence_ref)<0);e[a].unshift(...d)}r(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,n(a,c,l),c.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(r=>s(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,r)=>{const n=e[r];return"metas"in n?s[r]=n.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[r]=n,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Co;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Co||(Co={}));var Zs;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Zs||(Zs={}));var ut;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ut||(ut={}));class pi{constructor(e,s={config:{}},r){this.topic=e,this.params=s,this.socket=r,this.bindings={},this.state=ce.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new dn(this,Ne.join,this.params,this.timeout),this.rejoinTimer=new pl(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ce.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ce.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=ce.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ne.reply,{},(n,i)=>{this._trigger(this._replyEventName(i),n)}),this.presence=new Js(this),this.broadcastEndpointURL=_l(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,s=this.timeout){var r,n;if(this.socket.isConnected()||this.socket.connect(),this.state==ce.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params,l=(n=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&n!==void 0?n:[],c=!!this.bindings[Zs.PRESENCE]&&this.bindings[Zs.PRESENCE].length>0,u={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(d=>e?.(ut.CHANNEL_ERROR,d)),this._onClose(()=>e?.(ut.CLOSED)),this.updateJoinPayload(Object.assign({config:h},u)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:d})=>{var g;if(this.socket.setAuth(),d===void 0){e?.(ut.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,E=(g=m?.length)!==null&&g!==void 0?g:0,T=[];for(let A=0;A<E;A++){const C=m[A],{filter:{event:S,schema:P,table:B,filter:H}}=C,F=d&&d[A];if(F&&F.event===S&&F.schema===P&&F.table===B&&F.filter===H)T.push(Object.assign(Object.assign({},C),{id:F.id}));else{this.unsubscribe(),this.state=ce.errored,e?.(ut.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(ut.SUBSCRIBED);return}}).receive("error",d=>{this.state=ce.errored,e?.(ut.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e?.(ut.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,r){return this.state===ce.joined&&e===Zs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,s,r)}async send(e,s={}){var r,n;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((n=c.body)===null||n===void 0?void 0:n.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ce.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ne.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{r=new dn(this,Ne.leave,{},e),r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ce.closed,this.bindings={}}async _fetchWithTimeout(e,s,r){const n=new AbortController,i=setTimeout(()=>n.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:n.signal}));return clearTimeout(i),o}_push(e,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new dn(this,e,s,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Cd){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,r){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,r){var n,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Ne;if(r&&[a,l,c,u].indexOf(o)>=0&&r!==this._joinRef())return;let d=this._onMessage(o,s,r);if(s&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(g=>{var m,E,T;return((m=g.filter)===null||m===void 0?void 0:m.event)==="*"||((T=(E=g.filter)===null||E===void 0?void 0:E.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===o}).map(g=>g.callback(d,r)):(i=this.bindings[o])===null||i===void 0||i.filter(g=>{var m,E,T,A,C,S;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in g){const P=g.id,B=(m=g.filter)===null||m===void 0?void 0:m.event;return P&&((E=s.ids)===null||E===void 0?void 0:E.includes(P))&&(B==="*"||B?.toLocaleLowerCase()===((T=s.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const P=(C=(A=g?.filter)===null||A===void 0?void 0:A.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return P==="*"||P===((S=s?.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===o}).map(g=>{if(typeof d=="object"&&"ids"in d){const m=d.data,{schema:E,table:T,commit_timestamp:A,type:C,errors:S}=m;d=Object.assign(Object.assign({},{schema:E,table:T,commit_timestamp:A,eventType:C,new:{},old:{},errors:S}),this._getPayloadRecords(m))}g.callback(d,r)})}_isClosed(){return this.state===ce.closed}_isJoined(){return this.state===ce.joined}_isJoining(){return this.state===ce.joining}_isLeaving(){return this.state===ce.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,r){const n=e.toLocaleLowerCase(),i={type:n,filter:s,callback:r};return this.bindings[n]?this.bindings[n].push(i):this.bindings[n]=[i],this}_off(e,s){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(n=>{var i;return!(((i=n.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&pi.isEqual(n.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ne.close,{},e)}_onError(e){this._on(Ne.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ce.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=xo(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=xo(e.columns,e.old_record)),s}}const jo=()=>{},mr={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Nd=[1e3,2e3,5e3,1e4],Bd=1e4,Fd=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class qd{constructor(e,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ln,this.transport=null,this.heartbeatIntervalMs=mr.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=jo,this.ref=0,this.reconnectTimer=null,this.logger=jo,this.conn=null,this.sendBuffer=[],this.serializer=new jd,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=n=>{let i;return n?i=n:typeof fetch>"u"?i=(...o)=>Oe(async()=>{const{default:a}=await Promise.resolve().then(()=>As);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=s?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${Un.websocket}`,this.httpEndpoint=_l(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Pd.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:xd}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,r){this.logger(e,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Gs.connecting:return Kt.Connecting;case Gs.open:return Kt.Open;case Gs.closing:return Kt.Closing;default:return Kt.Closed}}isConnected(){return this.connectionState()===Kt.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const r=`realtime:${e}`,n=this.getChannels().find(i=>i.topic===r);if(n)return n;{const i=new pi(`realtime:${e}`,s,this);return this.channels.push(i),i}}push(e){const{topic:s,event:r,payload:n,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${r} (${i})`,n),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Rd,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},mr.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{s.topic==="phoenix"&&s.event==="phx_reply"&&this.heartbeatCallback(s.payload.status==="ok"?"ok":"error"),s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:n,payload:i,ref:o}=s,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${r} ${n} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(n,i,o)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ne.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(s);return`${e}${r}${n}`}_workerObjectUrl(e){let s;if(e)s=e;else{const r=new Blob([Fd],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s;e?s=e:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(r=>{const n={access_token:s,version:Ad};s&&r.updateJoinPayload(n),r.joinedOnce&&r._isJoined()&&r._push(Ne.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(s)}catch(n){this.log("error",`error in ${e} callback`,n)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new pl(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},mr.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,r,n,i,o,a,l,c;if(this.transport=(s=e?.transport)!==null&&s!==void 0?s:null,this.timeout=(r=e?.timeout)!==null&&r!==void 0?r:Ln,this.heartbeatIntervalMs=(n=e?.heartbeatIntervalMs)!==null&&n!==void 0?n:mr.HEARTBEAT_INTERVAL,this.worker=(i=e?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e?.accessToken)!==null&&o!==void 0?o:null,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e?.reconnectAfterMs)!==null&&a!==void 0?a:(u=>Nd[u-1]||Bd),this.encode=(l=e?.encode)!==null&&l!==void 0?l:((u,h)=>h(JSON.stringify(u))),this.decode=(c=e?.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}class gi extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function fe(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Vd extends gi{constructor(e,s,r){super(e),this.name="StorageApiError",this.status=s,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Mn extends gi{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Hd=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const ml=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Oe(async()=>{const{default:r}=await Promise.resolve().then(()=>As);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Kd=()=>Hd(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Oe(()=>Promise.resolve().then(()=>As),void 0)).Response:Response}),Nn=t=>{if(Array.isArray(t))return t.map(s=>Nn(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,r])=>{const n=s.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[n]=Nn(r)}),e},Wd=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Jt=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const fn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),zd=(t,e,s)=>Jt(void 0,void 0,void 0,function*(){const r=yield Kd();t instanceof r&&!s?.noResolveJson?t.json().then(n=>{const i=t.status||500,o=n?.statusCode||i+"";e(new Vd(fn(n),i,o))}).catch(n=>{e(new Mn(fn(n),n))}):e(new Mn(fn(t),t))}),Gd=(t,e,s,r)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"||!r?n:(Wd(r)?(n.headers=Object.assign({"Content-Type":"application/json"},e?.headers),n.body=JSON.stringify(r)):n.body=r,e?.duplex&&(n.duplex=e.duplex),Object.assign(Object.assign({},n),s))};function cr(t,e,s,r,n,i){return Jt(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,Gd(e,r,n,i)).then(l=>{if(!l.ok)throw l;return r?.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>zd(l,a,r))})})}function Ur(t,e,s,r){return Jt(this,void 0,void 0,function*(){return cr(t,"GET",e,s,r)})}function ht(t,e,s,r,n){return Jt(this,void 0,void 0,function*(){return cr(t,"POST",e,r,n,s)})}function Bn(t,e,s,r,n){return Jt(this,void 0,void 0,function*(){return cr(t,"PUT",e,r,n,s)})}function Jd(t,e,s,r){return Jt(this,void 0,void 0,function*(){return cr(t,"HEAD",e,Object.assign(Object.assign({},s),{noResolveJson:!0}),r)})}function vl(t,e,s,r,n){return Jt(this,void 0,void 0,function*(){return cr(t,"DELETE",e,r,n,s)})}var Te=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const Zd={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Io={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Qd{constructor(e,s={},r,n){this.url=e,this.headers=s,this.bucketId=r,this.fetch=ml(n)}uploadOrUpdate(e,s,r,n){return Te(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Io),n);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),n?.headers&&(a=Object.assign(Object.assign({},a),n.headers));const c=this._removeEmptyFolders(s),u=this._getFinalPath(c),h=yield(e=="PUT"?Bn:ht)(this.fetch,`${this.url}/object/${u}`,i,Object.assign({headers:a},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(fe(i))return{data:null,error:i};throw i}})}upload(e,s,r){return Te(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,r)})}uploadToSignedUrl(e,s,r,n){return Te(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const c=Object.assign({upsert:Io.upsert},n),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield Bn(this.fetch,a.toString(),l,{headers:u});return{data:{path:i,fullPath:h.Key},error:null}}catch(l){if(fe(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,s){return Te(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);s?.upsert&&(n["x-upsert"]="true");const i=yield ht(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:n}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new gi("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}update(e,s,r){return Te(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,r)})}move(e,s,r){return Te(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}copy(e,s,r){return Te(this,void 0,void 0,function*(){try{return{data:{path:(yield ht(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,r){return Te(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e),i=yield ht(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:s},r?.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}createSignedUrls(e,s,r){return Te(this,void 0,void 0,function*(){try{const n=yield ht(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:n.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}download(e,s){return Te(this,void 0,void 0,function*(){const n=typeof s?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(s?.transform||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Ur(this.fetch,`${this.url}/${n}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(fe(a))return{data:null,error:a};throw a}})}info(e){return Te(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{const r=yield Ur(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:Nn(r),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}exists(e){return Te(this,void 0,void 0,function*(){const s=this._getFinalPath(e);try{return yield Jd(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(fe(r)&&r instanceof Mn){const n=r.originalError;if([400,404].includes(n?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,s){const r=this._getFinalPath(e),n=[],i=s?.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&n.push(i);const a=typeof s?.transform<"u"?"render/image":"object",l=this.transformOptsToQueryString(s?.transform||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return Te(this,void 0,void 0,function*(){try{return{data:yield vl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}list(e,s,r){return Te(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},Zd),s),{prefix:e||""});return{data:yield ht(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const Yd="2.10.5",Xd={"X-Client-Info":`storage-js/${Yd}`};var is=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class ef{constructor(e,s={},r,n){const i=new URL(e);n?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Xd),s),this.fetch=ml(r)}listBuckets(){return is(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(fe(e))return{data:null,error:e};throw e}})}getBucket(e){return is(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return is(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:s.type,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}updateBucket(e,s){return is(this,void 0,void 0,function*(){try{return{data:yield Bn(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}emptyBucket(e){return is(this,void 0,void 0,function*(){try{return{data:yield ht(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}deleteBucket(e){return is(this,void 0,void 0,function*(){try{return{data:yield vl(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}}class tf extends ef{constructor(e,s={},r,n){super(e,s,r,n)}from(e){return new Qd(this.url,this.headers,e,this.fetch)}}const sf="2.55.0";let Ms="";typeof Deno<"u"?Ms="deno":typeof document<"u"?Ms="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ms="react-native":Ms="node";const rf={"X-Client-Info":`supabase-js-${Ms}/${sf}`},nf={headers:rf},of={schema:"public"},af={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},lf={};var cf=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const uf=t=>{let e;return t?e=t:typeof fetch>"u"?e=ll:e=fetch,(...s)=>e(...s)},hf=()=>typeof Headers>"u"?cl:Headers,df=(t,e,s)=>{const r=uf(s),n=hf();return(i,o)=>cf(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new n(o?.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var ff=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function pf(t){return t.endsWith("/")?t:t+"/"}function gf(t,e){var s,r;const{db:n,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:u,global:h}=e,d={db:Object.assign(Object.assign({},l),n),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},u),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(s=h?.headers)!==null&&s!==void 0?s:{}),(r=a?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>ff(this,void 0,void 0,function*(){return""})};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}const yl="2.71.1",fs=30*1e3,Fn=3,pn=Fn*fs,_f="http://localhost:9999",mf="supabase.auth.token",vf={"X-Client-Info":`gotrue-js/${yl}`},qn="X-Supabase-Api-Version",bl={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},yf=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bf=600*1e3;class _i extends Error{constructor(e,s,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function V(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class wf extends _i{constructor(e,s,r){super(e,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function Sf(t){return V(t)&&t.name==="AuthApiError"}class wl extends _i{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Lt extends _i{constructor(e,s,r,n){super(e,r,n),this.name=s,this.status=r}}class kt extends Lt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ef(t){return V(t)&&t.name==="AuthSessionMissingError"}class vr extends Lt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class yr extends Lt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class br extends Lt{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Tf(t){return V(t)&&t.name==="AuthImplicitGrantRedirectError"}class $o extends Lt{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Vn extends Lt{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function gn(t){return V(t)&&t.name==="AuthRetryableFetchError"}class Lo extends Lt{constructor(e,s,r){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Hn extends Lt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Dr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Uo=` 	
\r=`.split(""),kf=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Uo.length;e+=1)t[Uo[e].charCodeAt(0)]=-2;for(let e=0;e<Dr.length;e+=1)t[Dr[e].charCodeAt(0)]=e;return t})();function Do(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Dr[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;s(Dr[r]),e.queuedBits-=6}}function Sl(t,e,s){const r=kf[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Mo(t){const e=[],s=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},i=o=>{Af(o,r,s)};for(let o=0;o<t.length;o+=1)Sl(t.charCodeAt(o),n,i);return e.join("")}function Pf(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Of(t,e){for(let s=0;s<t.length;s+=1){let r=t.charCodeAt(s);if(r>55295&&r<=56319){const n=(r-55296)*1024&65535;r=(t.charCodeAt(s+1)-56320&65535|n)+65536,s+=1}Pf(r,e)}}function Af(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let r=1;r<6;r+=1)if((t>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function xf(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};for(let n=0;n<t.length;n+=1)Sl(t.charCodeAt(n),s,r);return new Uint8Array(e)}function Rf(t){const e=[];return Of(t,s=>e.push(s)),new Uint8Array(e)}function Cf(t){const e=[],s={queue:0,queuedBits:0},r=n=>{e.push(n)};return t.forEach(n=>Do(n,s,r)),Do(null,s,r),e.join("")}function jf(t){return Math.round(Date.now()/1e3)+t}function If(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Me=()=>typeof window<"u"&&typeof document<"u",Nt={tested:!1,writable:!1},El=()=>{if(!Me())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Nt.tested)return Nt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Nt.tested=!0,Nt.writable=!0}catch{Nt.tested=!0,Nt.writable=!1}return Nt.writable};function $f(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((n,i)=>{e[i]=n})}catch{}return s.searchParams.forEach((r,n)=>{e[n]=r}),e}const Tl=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Oe(async()=>{const{default:r}=await Promise.resolve().then(()=>As);return{default:r}},void 0).then(({default:r})=>r(...s)):e=fetch,(...s)=>e(...s)},Lf=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ps=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Bt=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Et=async(t,e)=>{await t.removeItem(e)};class Yr{constructor(){this.promise=new Yr.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Yr.promiseConstructor=Promise;function _n(t){const e=t.split(".");if(e.length!==3)throw new Hn("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!yf.test(e[r]))throw new Hn("JWT not in base64url format");return{header:JSON.parse(Mo(e[0])),payload:JSON.parse(Mo(e[1])),signature:xf(e[2]),raw:{header:e[0],payload:e[1]}}}async function Uf(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Df(t,e){return new Promise((r,n)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){n(o);return}}})()})}function Mf(t){return("0"+t.toString(16)).substr(-2)}function Nf(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let n="";for(let i=0;i<56;i++)n+=s.charAt(Math.floor(Math.random()*r));return n}return crypto.getRandomValues(e),Array.from(e,Mf).join("")}async function Bf(t){const s=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",s),n=new Uint8Array(r);return Array.from(n).map(i=>String.fromCharCode(i)).join("")}async function Ff(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Bf(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function os(t,e,s=!1){const r=Nf();let n=r;s&&(n+="/PASSWORD_RECOVERY"),await ps(t,`${e}-code-verifier`,n);const i=await Ff(r);return[i,r===i?"plain":"s256"]}const qf=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Vf(t){const e=t.headers.get(qn);if(!e||!e.match(qf))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Hf(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Kf(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Wf=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function as(t){if(!Wf.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mn(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function No(t){return JSON.parse(JSON.stringify(t))}var zf=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};const Ht=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Gf=[502,503,504];async function Bo(t){var e;if(!Lf(t))throw new Vn(Ht(t),0);if(Gf.includes(t.status))throw new Vn(Ht(t),t.status);let s;try{s=await t.json()}catch(i){throw new wl(Ht(i),i)}let r;const n=Vf(t);if(n&&n.getTime()>=bl["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new Lo(Ht(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new kt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Lo(Ht(s),t.status,s.weak_password.reasons);throw new wf(Ht(s),t.status||500,r)}const Jf=(t,e,s,r)=>{const n={method:t,headers:e?.headers||{}};return t==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),n.body=JSON.stringify(r),Object.assign(Object.assign({},n),s))};async function K(t,e,s,r){var n;const i=Object.assign({},r?.headers);i[qn]||(i[qn]=bl["2024-01-01"].name),r?.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(n=r?.query)!==null&&n!==void 0?n:{};r?.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await Zf(t,e,s+a,{headers:i,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(l):{data:Object.assign({},l),error:null}}async function Zf(t,e,s,r,n,i){const o=Jf(e,r,n,i);let a;try{a=await t(s,Object.assign({},o))}catch(l){throw console.error(l),new Vn(Ht(l),0)}if(a.ok||await Bo(a),r?.noResolveJson)return a;try{return await a.json()}catch(l){await Bo(l)}}function lt(t){var e;let s=null;ep(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=jf(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:r},error:null}}function Fo(t){const e=lt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function xt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Qf(t){return{data:t,error:null}}function Yf(t){const{action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i}=t,o=zf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:r,redirect_to:n,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function Xf(t){return t}function ep(t){return t.access_token&&t.refresh_token&&t.expires_in}const vn=["global","local","others"];var tp=function(t,e){var s={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,r=Object.getOwnPropertySymbols(t);n<r.length;n++)e.indexOf(r[n])<0&&Object.prototype.propertyIsEnumerable.call(t,r[n])&&(s[r[n]]=t[r[n]]);return s};class sp{constructor({url:e="",headers:s={},fetch:r}){this.url=e,this.headers=s,this.fetch=Tl(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s=vn[0]){if(vn.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vn.join(", ")}`);try{return await K(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,s={}){try{return await K(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:xt})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:s}=e,r=tp(e,["options"]),n=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(n.new_email=r?.newEmail,delete n.newEmail),await K(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:Yf,redirectTo:s?.redirectTo})}catch(s){if(V(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await K(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:xt})}catch(s){if(V(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,r,n,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await K(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(i=(n=e?.perPage)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:""},xform:Xf});if(u.error)throw u.error;const h=await u.json(),d=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,g=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(m=>{const E=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(m.split(";")[1].split("=")[1]);c[`${T}Page`]=E}),c.total=parseInt(d)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(V(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){as(e);try{return await K(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:xt})}catch(s){if(V(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){as(e);try{return await K(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:xt})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,s=!1){as(e);try{return await K(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:xt})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){as(e.userId);try{const{data:s,error:r}=await K(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:s,error:r}}catch(s){if(V(s))return{data:null,error:s};throw s}}async _deleteFactor(e){as(e.userId),as(e.id);try{return{data:await K(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}}}function qo(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function rp(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ls={debug:!!(globalThis&&El()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class kl extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class np extends kl{}async function ip(t,e,s){ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),ls.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async n=>{if(n){ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,n.name);try{return await s()}finally{ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,n.name)}}else{if(e===0)throw ls.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new np(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ls.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}rp();const op={url:_f,storageKey:mf,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vf,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Vo(t,e,s){return await s()}const cs={};class nr{constructor(e){var s,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=nr.nextInstanceID,nr.nextInstanceID+=1,this.instanceID>0&&Me()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},op),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new sp({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Tl(n.fetch),this.lock=n.lock||Vo,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:Me()&&(!((s=globalThis?.navigator)===null||s===void 0)&&s.locks)?this.lock=ip:this.lock=Vo,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:El()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=qo(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=qo(this.memoryStorage)),Me()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,s;return(s=(e=cs[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){cs[this.storageKey]=Object.assign(Object.assign({},cs[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=cs[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){cs[this.storageKey]=Object.assign(Object.assign({},cs[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${yl}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const s=$f(window.location.href);let r="none";if(this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce"),Me()&&this.detectSessionInUrl&&r!=="none"){const{data:n,error:i}=await this._getSessionFromURL(s,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Tf(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=n;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return V(s)?{error:s}:{error:new wl("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,r,n;try{const i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=e?.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(n=e?.options)===null||n===void 0?void 0:n.captchaToken}},xform:lt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var s,r,n;try{let i;if("email"in e){const{email:u,password:h,options:d}=e;let g=null,m=null;this.flowType==="pkce"&&([g,m]=await os(this.storage,this.storageKey)),i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d?.emailRedirectTo,body:{email:u,password:h,data:(s=d?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:g,code_challenge_method:m},xform:lt})}else if("phone"in e){const{phone:u,password:h,options:d}=e;i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(r=d?.data)!==null&&r!==void 0?r:{},channel:(n=d?.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:lt})}else throw new yr("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(V(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Fo})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Fo})}else throw new yr("You must provide either an email or phone number and a password");const{data:r,error:n}=s;return n?{data:{user:null,session:null},error:n}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new vr}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,r,n,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(n=e.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;if(s==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}async signInWithSolana(e){var s,r,n,i,o,a,l,c,u,h,d,g;let m,E;if("message"in e)m=e.message,E=e.signature;else{const{chain:T,wallet:A,statement:C,options:S}=e;let P;if(Me())if(typeof A=="object")P=A;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))P=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=A}const B=new URL((s=S?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in P&&P.signIn){const H=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S?.signInWithSolana),{version:"1",domain:B.host,uri:B.href}),C?{statement:C}:null));let F;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")F=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)F=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)m=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),E=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${B.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${B.href}`,`Issued At: ${(n=(r=S?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((i=S?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((o=S?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((a=S?.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((l=S?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((c=S?.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((h=(u=S?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||h===void 0)&&h.length?["Resources",...S.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const H=await P.signMessage(new TextEncoder().encode(m),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=H}}try{const{data:T,error:A}=await K(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Cf(E)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:lt});if(A)throw A;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new vr}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:A})}catch(T){if(V(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(e){const s=await Bt(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(s??"").split("/");try{const{data:i,error:o}=await K(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:lt});if(await Et(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new vr}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:n??null}),error:o})}catch(i){if(V(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:s,provider:r,token:n,access_token:i,nonce:o}=e,a=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:lt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new vr}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,r,n,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await os(this.storage,this.storageKey));const{error:h}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(r=l?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(o=l?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:u}}throw new yr("You must provide either an email or phone number.")}catch(a){if(V(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,r;try{let n,i;"options"in e&&(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await K(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:n,xform:lt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(n){if(V(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var s,r,n;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await os(this.storage,this.storageKey)),await K(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((n=e?.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:Qf})}catch(i){if(V(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:r}=e;if(r)throw r;if(!s)throw new kt;const{error:n}=await K(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:n}})}catch(e){if(V(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:r,type:n,options:i}=e,{error:o}=await K(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:n,options:i}=e,{data:o,error:a}=await K(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:a}}throw new yr("You must provide either an email or phone number and a type")}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Bt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<pn:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Bt(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=mn()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,u)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,u))})}return{data:{session:e},error:null}}const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:xt}):await this._useSession(async s=>{var r,n,i;const{data:o,error:a}=s;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new kt}:await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0,xform:xt})})}catch(s){if(V(s))return Ef(s)&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async r=>{const{data:n,error:i}=r;if(i)throw i;if(!n.session)throw new kt;const o=n.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await os(this.storage,this.storageKey));const{data:c,error:u}=await K(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:xt});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(V(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new kt;const s=Date.now()/1e3;let r=s,n=!0,i=null;const{payload:o}=_n(e.access_token);if(o.exp&&(r=o.exp,n=r<=s),n){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(V(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var r;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new kt;const{session:n,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(V(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e,s){try{if(!Me())throw new br("No browser detected.");if(e.error||e.error_description||e.error_code)throw new br(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new $o("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new br("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $o("No code detected.");const{data:C,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new br("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let d=u+h;l&&(d=parseInt(l));const g=d-u;g*1e3<=fs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${h}s`);const m=d-h;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,d,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,d,u);const{data:E,error:T}=await this._getUser(i);if(T)throw T;const A={provider_token:r,provider_refresh_token:n,access_token:i,expires_in:h,expires_at:d,refresh_token:o,token_type:c,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:A,redirectType:e.type},error:null}}catch(r){if(V(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await Bt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{error:i};const o=(r=n.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Sf(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const s=If(),r={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async s=>{var r,n;try{const{data:{session:i},error:o}=s;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let r=null,n=null;this.flowType==="pkce"&&([r,n]=await os(this.storage,this.storageKey,!0));try{return await K(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(V(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(V(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:r,error:n}=await this._useSession(async i=>{var o,a,l,c,u;const{data:h,error:d}=i;if(d)throw d;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await K(this.fetch,"GET",g,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(n)throw n;return Me()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r?.url),{data:{provider:e.provider,url:r?.url},error:null}}catch(r){if(V(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)throw o;return await K(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(n=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:void 0})})}catch(s){if(V(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await Df(async n=>(n>0&&await Uf(200*Math.pow(2,n-1)),this._debug(s,"refreshing attempt",n),await K(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:lt})),(n,i)=>{const o=200*Math.pow(2,n);return i&&gn(i)&&Date.now()+o-r<fs})}catch(r){if(this._debug(s,"error",r),V(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",r),Me()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const n=await Bt(this.storage,this.storageKey);if(n&&this.userStorage){let o=await Bt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:n.user},await ps(this.userStorage,this.storageKey+"-user",o)),n.user=(e=o?.user)!==null&&e!==void 0?e:mn()}else if(n&&!n.user&&!n.user){const o=await Bt(this.storage,this.storageKey+"-user");o&&o?.user?(n.user=o.user,await Et(this.storage,this.storageKey+"-user"),await ps(this.storage,this.storageKey,n)):n.user=mn()}if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),n!==null&&await this._removeSession();return}const i=((s=n.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<pn;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${pn}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),gn(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(n.access_token);!a&&o?.user?(n.user=o.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(r,"error",n),console.error(n);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var s,r;if(!e)throw new kt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new Yr;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new kt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(n,"error",i),V(i)){const o={session:null,error:i};return gn(i)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,s,r=!0){const n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const s=Object.assign({},e),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await ps(this.userStorage,this.storageKey+"-user",{user:s.user});const n=Object.assign({},s);delete n.user;const i=No(n);await ps(this.storage,this.storageKey,i)}else{const n=No(s);await ps(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await Et(this.storage,this.storageKey),await Et(this.storage,this.storageKey+"-code-verifier"),await Et(this.storage,this.storageKey+"-user"),this.userStorage&&await Et(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Me()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),fs);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((r.expires_at*1e3-e)/fs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${fs}ms, refresh threshold is ${Fn} ticks`),n<=Fn&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof kl)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Me()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,r){const n=[`provider=${encodeURIComponent(s)}`];if(r?.redirectTo&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await os(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});n.push(a.toString())}if(r?.queryParams){const i=new URLSearchParams(r.queryParams);n.push(i.toString())}return r?.skipBrowserRedirect&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await K(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=n?.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(V(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var r,n;const{data:i,error:o}=s;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await K(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((n=l?.totp)===null||n===void 0)&&n.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(s){if(V(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await K(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=n?.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(V(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var r;const{data:n,error:i}=s;return i?{data:null,error:i}:await K(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=n?.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(V(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const r=e?.factors||[],n=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:n,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,r;const{data:{session:n},error:i}=e;if(i)return{data:null,error:i};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=_n(n.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(s=n.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(e,s={keys:[]}){let r=s.keys.find(a=>a.kid===e);if(r)return r;const n=Date.now();if(r=this.jwks.keys.find(a=>a.kid===e),r&&this.jwks_cached_at+bf>n)return r;const{data:i,error:o}=await K(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=n,r=i.keys.find(a=>a.kid===e),!r)?null:r}async getClaims(e,s={}){try{let r=e;if(!r){const{data:g,error:m}=await this.getSession();if(m||!g.session)return{data:null,error:m};r=g.session.access_token}const{header:n,payload:i,signature:o,raw:{header:a,payload:l}}=_n(r);s?.allowExpired||Hf(i.exp);const c=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!c){const{error:g}=await this.getUser(r);if(g)throw g;return{data:{claims:i,header:n,signature:o},error:null}}const u=Kf(n.alg),h=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,h,o,Rf(`${a}.${l}`)))throw new Hn("Invalid JWT signature");return{data:{claims:i,header:n,signature:o},error:null}}catch(r){if(V(r))return{data:null,error:r};throw r}}}nr.nextInstanceID=0;const ap=nr;class lp extends ap{constructor(e){super(e)}}var cp=function(t,e,s,r){function n(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(r.next(u))}catch(h){o(h)}}function l(u){try{c(r.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):n(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class up{constructor(e,s,r){var n,i,o;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const a=pf(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:of,realtime:lf,auth:Object.assign(Object.assign({},af),{storageKey:c}),global:nf},h=gf(r??{},u);this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(d,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=df(s,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new kd(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new tf(this.storageUrl.href,this.headers,this.fetch,r?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new hd(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},r={}){return this.rest.rpc(e,s,r)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return cp(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(s=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,storageKey:i,flowType:o,lock:a,debug:l},c,u){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new lp({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:r,storage:n,flowType:o,lock:a,debug:l,fetch:u,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new qd(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,r)=>{this._handleTokenChanged(s,"CLIENT",r?.access_token)})}_handleTokenChanged(e,s,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const hp=(t,e,s)=>new up(t,e,s);function dp(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}dp()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const fp="https://xpljlgvlyxwpoydbglkw.supabase.co",pp="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InhwbGpsZ3ZseXh3cG95ZGJnbGt3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTUxMDA4NzEsImV4cCI6MjA3MDY3Njg3MX0.VmgkrssxMnrOt212blinnCnRp_hnw2gCCzI3477vdiQ",Ho=hp(fp,pp);var tt=(t=>(t.PENDING="pending",t.IN_PROGRESS="in_progress",t.RESOLVED="resolved",t.REJECTED="rejected",t))(tt||{}),gs=(t=>(t.AGENT="agent",t.CITIZEN="citizen",t))(gs||{});const Re=[{id:1,name:"Buraco na Rua",description:"Problemas relacionados a buracos e pavimentao",color:"#ef4444",is_active:!0,created_at:"2024-01-15T10:00:00Z"},{id:2,name:"Lixo na Rua",description:"Acmulo de lixo e problemas de limpeza urbana",color:"#f59e0b",is_active:!0,created_at:"2024-01-15T10:00:00Z"},{id:3,name:"Iluminao",description:"Problemas com iluminao pblica",color:"#3b82f6",is_active:!0,created_at:"2024-01-15T10:00:00Z"},{id:4,name:"Sinalizao",description:"Placas e sinalizaes danificadas ou ausentes",color:"#10b981",is_active:!0,created_at:"2024-01-15T10:00:00Z"}],Rt=[{id:"agent-1",full_name:"Joo Silva",role:"agent",department:"Obras Pblicas",phone:"(11) 99999-0001",is_active:!0,created_at:"2024-01-10T10:00:00Z",updated_at:"2024-01-10T10:00:00Z"},{id:"agent-2",full_name:"Maria Santos",role:"agent",department:"Limpeza Urbana",phone:"(11) 99999-0002",is_active:!0,created_at:"2024-01-10T10:00:00Z",updated_at:"2024-01-10T10:00:00Z"},{id:"admin-1",full_name:"Carlos Admin",role:"admin",department:"Administrao",phone:"(11) 99999-0003",is_active:!0,created_at:"2024-01-10T10:00:00Z",updated_at:"2024-01-10T10:00:00Z"}],gt=[{id:"occ-1",title:"Grande buraco na Av. Paulista",description:"Buraco profundo causando transtornos ao trnsito",video_url:"https://sample-videos.com/zip/10/mp4/720/SampleVideo_720x480_1mb.mp4",video_filename:"buraco_av_paulista.mp4",video_duration:7,latitude:-23.5505,longitude:-46.6333,location_accuracy:5,address:"Av. Paulista, 1578 - Bela Vista, So Paulo - SP",status:tt.PENDING,priority:5,tag_id:1,reported_by:null,reporter_type:gs.CITIZEN,assigned_to:null,metadata:{device:"iPhone 13",app_version:"1.0.0"},created_at:"2024-08-20T10:30:00Z",updated_at:"2024-08-20T10:30:00Z",tags:Re[0],profiles:null,assigned_agent:null},{id:"occ-2",title:"Lixo acumulado na Rua Augusta",description:"Acmulo de lixo h vrios dias sem coleta",video_url:"https://sample-videos.com/zip/10/mp4/720/SampleVideo_720x480_2mb.mp4",video_filename:"lixo_rua_augusta.mp4",video_duration:6,latitude:-23.5489,longitude:-46.6388,location_accuracy:8,address:"Rua Augusta, 2690 - Jardim Paulista, So Paulo - SP",status:tt.IN_PROGRESS,priority:3,tag_id:2,reported_by:"agent-1",reporter_type:gs.AGENT,assigned_to:"agent-2",metadata:{device:"Samsung Galaxy S21",app_version:"1.0.0"},created_at:"2024-08-19T14:15:00Z",updated_at:"2024-08-20T08:00:00Z",tags:Re[1],profiles:Rt[0],assigned_agent:Rt[1]},{id:"occ-3",title:"Poste queimado na Rua da Consolao",description:"Poste de iluminao queimado deixando rea escura",video_url:"https://sample-videos.com/zip/10/mp4/720/SampleVideo_720x480_1mb.mp4",video_filename:"poste_consolacao.mp4",video_duration:5,latitude:-23.5434,longitude:-46.6484,location_accuracy:3,address:"Rua da Consolao, 3456 - Consolao, So Paulo - SP",status:tt.RESOLVED,priority:4,tag_id:3,reported_by:null,reporter_type:gs.CITIZEN,assigned_to:"agent-1",metadata:{device:"Motorola Edge",app_version:"1.0.0"},created_at:"2024-08-18T20:00:00Z",updated_at:"2024-08-19T16:30:00Z",resolved_at:"2024-08-19T16:30:00Z",tags:Re[2],profiles:null,assigned_agent:Rt[0]},{id:"occ-4",title:"Placa de trnsito danificada",description:"Placa de pare danificada no cruzamento",video_url:"https://sample-videos.com/zip/10/mp4/720/SampleVideo_720x480_2mb.mp4",video_filename:"placa_transito.mp4",video_duration:8,latitude:-23.5567,longitude:-46.6409,location_accuracy:4,address:"Av. Rebouas com Rua Henrique Schaumann - Pinheiros, So Paulo - SP",status:tt.PENDING,priority:2,tag_id:4,reported_by:null,reporter_type:gs.CITIZEN,assigned_to:null,metadata:{device:"iPhone 12",app_version:"1.0.0"},created_at:"2024-08-20T07:45:00Z",updated_at:"2024-08-20T07:45:00Z",tags:Re[3],profiles:null,assigned_agent:null},{id:"occ-5",title:"Calada quebrada na Vila Madalena",description:"Calada com diversos buracos dificultando passagem de pedestres",video_url:"https://sample-videos.com/zip/10/mp4/720/SampleVideo_720x480_1mb.mp4",video_filename:"calcada_vila_madalena.mp4",video_duration:7,latitude:-23.5445,longitude:-46.6875,location_accuracy:6,address:"Rua Harmonia, 123 - Vila Madalena, So Paulo - SP",status:tt.IN_PROGRESS,priority:3,tag_id:1,reported_by:"agent-2",reporter_type:gs.AGENT,assigned_to:"agent-1",metadata:{device:"Xiaomi Mi 11",app_version:"1.0.0"},created_at:"2024-08-19T11:20:00Z",updated_at:"2024-08-20T09:15:00Z",tags:Re[0],profiles:Rt[1],assigned_agent:Rt[0]}],gp={total_occurrences:gt.length,pending_occurrences:gt.filter(t=>t.status===tt.PENDING).length,in_progress_occurrences:gt.filter(t=>t.status===tt.IN_PROGRESS).length,resolved_occurrences:gt.filter(t=>t.status===tt.RESOLVED).length,total_agents:Rt.filter(t=>t.role==="agent").length,occurrences_today:2,by_tag:[{tag_name:"Buraco na Rua",count:2,color:"#ef4444"},{tag_name:"Lixo na Rua",count:1,color:"#f59e0b"},{tag_name:"Iluminao",count:1,color:"#3b82f6"},{tag_name:"Sinalizao",count:1,color:"#10b981"}]};class oe{static delay(e=500){return new Promise(s=>setTimeout(s,e))}static async getDashboardStats(){return await this.delay(300),gp}static async getOccurrences(e){await this.delay(400);let s=[...gt];return e?.status&&(s=s.filter(r=>r.status===e.status)),e?.tag_id&&(s=s.filter(r=>r.tag_id===e.tag_id)),e?.offset&&(s=s.slice(e.offset)),e?.limit&&(s=s.slice(0,e.limit)),s}static async getOccurrenceById(e){await this.delay(300);const s=gt.find(r=>r.id===e);if(!s)throw new Error("Occurrence not found");return s}static async updateOccurrenceStatus(e,s,r){await this.delay(400);const n=gt.find(i=>i.id===e);if(!n)throw new Error("Occurrence not found");return n.status=s,n.updated_at=new Date().toISOString(),r&&(n.assigned_to=r,n.assigned_agent=Rt.find(i=>i.id===r)||null),s===tt.RESOLVED&&(n.resolved_at=new Date().toISOString()),n}static async updateOccurrencePriority(e,s){await this.delay(300);const r=gt.find(n=>n.id===e);if(!r)throw new Error("Occurrence not found");return r.priority=s,r.updated_at=new Date().toISOString(),r}static async getTags(){return await this.delay(200),Re.filter(e=>e.is_active)}static async createTag(e){await this.delay(400);const s={...e,id:Math.max(...Re.map(r=>r.id))+1,created_at:new Date().toISOString()};return Re.push(s),s}static async updateTag(e,s){await this.delay(400);const r=Re.findIndex(n=>n.id===e);if(r===-1)throw new Error("Tag not found");return Re[r]={...Re[r],...s},Re[r]}static async deleteTag(e){await this.delay(300);const s=Re.find(r=>r.id===e);if(!s)throw new Error("Tag not found");return s.is_active=!1,s}static async getAgents(){return await this.delay(200),Rt.filter(e=>["agent","admin"].includes(e.role)&&e.is_active)}static getVideoUrl(e){return{"buraco_av_paulista.mp4":"https://sample-videos.com/zip/10/mp4/720/SampleVideo_720x480_1mb.mp4","lixo_rua_augusta.mp4":"https://sample-videos.com/zip/10/mp4/720/SampleVideo_720x480_2mb.mp4","poste_consolacao.mp4":"https://sample-videos.com/zip/10/mp4/720/SampleVideo_720x480_1mb.mp4","placa_transito.mp4":"https://sample-videos.com/zip/10/mp4/720/SampleVideo_720x480_2mb.mp4","calcada_vila_madalena.mp4":"https://sample-videos.com/zip/10/mp4/720/SampleVideo_720x480_1mb.mp4"}[e]||"https://sample-videos.com/zip/10/mp4/720/SampleVideo_720x480_1mb.mp4"}static async getNearbyOccurrences(e,s,r=5){return await this.delay(300),gt.slice(0,3)}static async getServiceOrders(){return await this.delay(400),[]}static async getServiceOrderById(e){throw await this.delay(300),new Error("Service order not found")}static async getServiceOrderStats(){return await this.delay(200),{total_orders:0,pending_orders:0,in_progress_orders:0,completed_orders:0,overdue_orders:0}}static async signIn(e,s){throw await this.delay(500),new Error("Authentication not available in MVP mode")}static async signUp(e,s,r){throw await this.delay(500),new Error("Registration not available in MVP mode")}static async signOut(){await this.delay(200)}static async getCurrentUser(){return null}static async getCurrentProfile(){return null}static async getOccurrenceUpdates(e){return await this.delay(300),[]}static async addOccurrenceUpdate(e,s,r){return await this.delay(400),{id:"update-1",occurrence_id:e,user_id:"mock-user",comment:s,status_change:r,created_at:new Date().toISOString(),profiles:null}}}class Us{static async getDashboardStats(){return oe.getDashboardStats()}static async getOccurrences(e){return oe.getOccurrences(e)}static async getOccurrenceById(e){return oe.getOccurrenceById(e)}static async updateOccurrenceStatus(e,s,r){return oe.updateOccurrenceStatus(e,s,r)}static async updateOccurrencePriority(e,s){return oe.updateOccurrencePriority(e,s)}static async getTags(){return oe.getTags()}static async createTag(e){return oe.createTag(e)}static async updateTag(e,s){return oe.updateTag(e,s)}static async deleteTag(e){return oe.deleteTag(e)}static async getAgents(){return oe.getAgents()}static getVideoUrl(e){return oe.getVideoUrl(e)}static async getNearbyOccurrences(e,s,r=5){return oe.getNearbyOccurrences(e,s,r)}static async getServiceOrders(e){return oe.getServiceOrders()}static async getServiceOrderById(e){return oe.getServiceOrderById(e)}static async getServiceOrderStats(){return oe.getServiceOrderStats()}static async signIn(e,s){return oe.signIn(e,s)}static async signUp(e,s,r){return oe.signUp(e,s,r)}static async signOut(){return oe.signOut()}static async getCurrentUser(){return oe.getCurrentUser()}static async getCurrentProfile(){return oe.getCurrentProfile()}static async getOccurrenceUpdates(e){return oe.getOccurrenceUpdates(e)}static async addOccurrenceUpdate(e,s,r){return oe.addOccurrenceUpdate(e,s,r)}}const Ft=or(null),Tt=or(null),qt=or(!1);function Pl(){const t=ae(()=>!!Ft.value),e=ae(()=>Tt.value?.role==="admin"),s=ae(()=>Tt.value?.role==="agent"),r=async()=>{qt.value=!0;try{const{data:{user:o}}=await Ho.auth.getUser();Ft.value=o,o&&(Tt.value=await Us.getCurrentProfile())}catch(o){console.error("Auth initialization error:",o)}finally{qt.value=!1}},n=async(o,a)=>{qt.value=!0;try{const{user:l}=await Us.signIn(o,a);Ft.value=l,Tt.value=await Us.getCurrentProfile()}catch(l){throw l}finally{qt.value=!1}},i=async()=>{qt.value=!0;try{await Us.signOut(),Ft.value=null,Tt.value=null}catch(o){throw o}finally{qt.value=!1}};return Ho.auth.onAuthStateChange(async(o,a)=>{if(o==="SIGNED_IN"&&a?.user){Ft.value=a.user;try{Tt.value=await Us.getCurrentProfile()}catch(l){console.error("Error loading profile:",l)}}else o==="SIGNED_OUT"&&(Ft.value=null,Tt.value=null)}),{user:ae(()=>Ft.value),profile:ae(()=>Tt.value),isAuthenticated:t,isAdmin:e,isAgent:s,isLoading:ae(()=>qt.value),initialize:r,signIn:n,signOut:i}}const _p={class:"app-layout"},mp={class:"sidebar__header"},vp={class:"sidebar__logo"},yp={key:0,class:"sidebar__logo-text"},bp=["aria-label"],wp={viewBox:"0 0 24 24",fill:"currentColor"},Sp=["d"],Ep={class:"sidebar__nav"},Tp={class:"nav-item__icon",viewBox:"0 0 24 24",fill:"currentColor"},kp=["d"],Pp={key:0,class:"nav-item__text"},Op={class:"sidebar__footer"},Ap={class:"user-info__avatar"},xp={key:0,class:"user-info__details"},Rp={class:"user-info__name"},Cp={class:"user-info__role"},jp={key:0},Ip={class:"main-content"},$p={class:"app-header"},Lp={class:"app-title"},Up={class:"app-content"},Dp=Kr({__name:"AppLayout",setup(t){const e=nd(),{profile:s}=Pl(),r=or(!1),n=ae(()=>[{name:"dashboard",to:"/",label:"Dashboard",iconPath:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"},{name:"occurrences",to:"/occurrences",label:"Ocorrncias",iconPath:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"},{name:"map",to:"/map",label:"Mapa",iconPath:"M20.5 3l-.16.03L15 5.1 9 3 3.36 4.9c-.21.07-.36.25-.36.48V20.5c0 .28.22.5.5.5l.16-.03L9 18.9l6 2.1 5.64-1.9c.21-.07.36-.25.36-.48V3.5c0-.28-.22-.5-.5-.5z"},{name:"tags",to:"/tags",label:"Categorias",iconPath:"M17.63 5.84C17.27 5.33 16.67 5 16 5L5 5.01C3.9 5.01 3 5.9 3 7v10c0 1.1.9 2 2 2h11c.67 0 1.27-.33 1.63-.84L22 12l-4.37-6.16z"},{name:"agents",to:"/agents",label:"Agentes",iconPath:"M16 7c0-2.76-2.24-5-5-5S6 4.24 6 7s2.24 5 5 5 5-2.24 5-5zM1 18c0-2.66 5.33-4 10-4s10 1.34 10 4v1H1v-1z"}]),i={admin:"Administrador",agent:"Agente"},o=ae(()=>{const l=e.currentRoute.value;return n.value.find(u=>u.name===l.name)?.label||"CITY 4C"}),a=()=>{r.value=!r.value};return(l,c)=>{const u=Tn("RouterLink"),h=Tn("RouterView");return Pe(),$e("div",_p,[ie("aside",{class:vs(["sidebar",{"sidebar--collapsed":r.value}])},[ie("div",mp,[ie("div",vp,[c[0]||(c[0]=ie("svg",{class:"sidebar__logo-icon",viewBox:"0 0 24 24",fill:"currentColor"},[ie("path",{d:"M17 10.5V7a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h12a1 1 0 001-1v-3.5l4 2v-7l-4 2z"})],-1)),r.value?pr("",!0):(Pe(),$e("span",yp,"CITY 4C"))]),ie("button",{class:"sidebar__toggle",onClick:a,"aria-label":r.value?"Expandir menu":"Recolher menu"},[(Pe(),$e("svg",wp,[ie("path",{d:r.value?"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z":"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},null,8,Sp)]))],8,bp)]),ie("nav",Ep,[(Pe(!0),$e(Xe,null,Ic(n.value,d=>(Pe(),Va(u,{key:d.name,to:d.to,class:vs(["nav-item",{"nav-item--active":l.$route.name===d.name}])},{default:jr(()=>[(Pe(),$e("svg",Tp,[ie("path",{d:d.iconPath},null,8,kp)])),r.value?pr("",!0):(Pe(),$e("span",Pp,us(d.label),1))]),_:2},1032,["to","class"]))),128))]),ie("div",Op,[ie("div",{class:vs(["user-info",{"user-info--collapsed":r.value}])},[ie("div",Ap,us(Be(s)?.full_name?.[0]||"U"),1),r.value?pr("",!0):(Pe(),$e("div",xp,[ie("div",Rp,us(Be(s)?.full_name||"Usurio MVP"),1),ie("div",Cp,us(Be(s)?i[Be(s).role]:"Acesso Direto"),1)]))],2),ue(u,{to:"/login",class:"sidebar__logout",title:r.value?"Login":void 0},{default:jr(()=>[c[1]||(c[1]=ie("svg",{class:"sidebar__logout-icon",viewBox:"0 0 24 24",fill:"currentColor"},[ie("path",{d:"M11,7L9.6,8.4l2.6,2.6H2v2h10.2l-2.6,2.6L11,17l5-5L11,7z M20,19h-8v2h8c1.1,0,2-0.9,2-2V5c0-1.1-0.9-2-2-2h-8v2h8V19z"})],-1)),r.value?pr("",!0):(Pe(),$e("span",jp,"Login"))]),_:1,__:[1]},8,["title"])])],2),ie("main",Ip,[ie("header",$p,[ie("h1",Lp,us(o.value),1)]),ie("div",Up,[ue(h)])])])}}}),Mp=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},Np=Mp(Dp,[["__scopeId","data-v-ac1aa942"]]),Bp={class:"app"},Fp={key:0,class:"app-loading"},qp={key:1,class:"app-with-layout"},Vp={key:2,class:"app-no-layout"},Hp=Kr({__name:"App",setup(t){const e=id(),{isAuthenticated:s,isLoading:r,initialize:n}=Pl(),i=["login","not-found"],o=ae(()=>s.value&&!i.includes(e.name));return Ea(async()=>{await n()}),(a,l)=>{const c=Tn("RouterView");return Pe(),$e("div",Bp,[Be(r)?(Pe(),$e("div",Fp,l[0]||(l[0]=[ie("div",{class:"loading-spinner"},null,-1),ie("p",null,"Carregando...",-1)]))):o.value?(Pe(),$e("div",qp,[ue(Np,null,{default:jr(()=>[ue(c)]),_:1})])):(Pe(),$e("div",Vp,[ue(c)]))])}}}),Kp=sd({history:Ch("/City_4C/"),routes:[{path:"/login",name:"login",component:()=>Oe(()=>import("./LoginView-CJMFfF4X.js"),__vite__mapDeps([0,1]))},{path:"/register",name:"register",component:()=>Oe(()=>import("./RegisterView-6qLrL2Fj.js"),__vite__mapDeps([2,3]))},{path:"/",name:"dashboard",component:()=>Oe(()=>import("./DashboardView-D4CDYzNK.js"),__vite__mapDeps([4,5,6]))},{path:"/occurrences",name:"occurrences",component:()=>Oe(()=>import("./OccurrencesView-C7VzfkFh.js"),__vite__mapDeps([7,5,8]))},{path:"/occurrences/:id",name:"occurrence-detail",component:()=>Oe(()=>import("./OccurrenceDetailView-Cs3sm9OQ.js"),__vite__mapDeps([9,5,10])),props:!0},{path:"/map",name:"map",component:()=>Oe(()=>import("./MapView-CRddw1u3.js"),__vite__mapDeps([11,5,12]))},{path:"/tags",name:"tags",component:()=>Oe(()=>import("./TagsView-DiQIOBH1.js"),__vite__mapDeps([13,14]))},{path:"/agents",name:"agents",component:()=>Oe(()=>import("./AgentsView-W80XhR9a.js"),__vite__mapDeps([15,5,16]))},{path:"/:pathMatch(.*)*",name:"not-found",component:()=>Oe(()=>import("./NotFoundView-LyuLYX6N.js"),__vite__mapDeps([17,18]))}]}),Ol=Yu(Hp);Ol.use(Kp);Ol.mount("#app");export{Va as A,Us as B,Jn as C,Er as D,id as E,Xe as F,tt as O,Mp as _,or as a,ie as b,$e as c,Kr as d,zp as e,pr as f,Wp as g,Be as h,Gp as i,hu as j,ue as k,jr as l,Tn as m,vs as n,nd as o,Pe as p,ae as q,Vr as r,Wu as s,us as t,Pl as u,Ji as v,Jp as w,Ho as x,Ea as y,Ic as z};
