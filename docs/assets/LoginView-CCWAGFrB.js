import{d as k,u as z,m as u,r as V,c as t,b as s,e as x,i as M,p as m,j as v,v as E,q as n,n as g,t as p,s as L,h as f,f as S,w as B,g as N,x as q,l as i,_ as I}from"./index-DYjkjjR3.js";const T={class:"login-page"},D={class:"login-container"},P={class:"login-card"},R={class:"form-group"},A=["disabled"],U={key:0,class:"form-error"},$={class:"form-group"},j={class:"password-input"},F=["type","disabled"],H=["disabled"],Q={viewBox:"0 0 24 24",fill:"currentColor"},Y={key:0,d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"},G={key:1,d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"},J={key:0,class:"form-error"},K=["disabled"],O={key:0,class:"loading-spinner"},W={key:0,class:"general-error"},X={class:"auth-links"},Z=k({__name:"LoginView",setup(ss){const _=q(),{signIn:w,isLoading:r}=z(),o=u({email:"",password:""}),e=u({email:"",password:"",general:""}),d=V(!1),h=()=>{e.email="",e.password="",e.general=""},b=()=>{h();let l=!0;return o.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.email)||(e.email="Email inválido",l=!1):(e.email="Email é obrigatório",l=!1),o.password?o.password.length<6&&(e.password="Senha deve ter pelo menos 6 caracteres",l=!1):(e.password="Senha é obrigatória",l=!1),l},C=async()=>{if(b())try{await w(o.email,o.password),_.push("/")}catch(l){console.error("Login error:",l),l.message?.includes("Invalid login credentials")?e.general="Email ou senha incorretos":l.message?.includes("Email not confirmed")?e.general="Confirme seu email antes de fazer login":e.general="Erro ao fazer login. Tente novamente."}};return(l,a)=>{const y=N("RouterLink");return i(),t("div",T,[s("div",D,[s("div",P,[a[7]||(a[7]=x('<div class="login-header" data-v-d14269a1><div class="login-logo" data-v-d14269a1><svg class="login-logo__icon" viewBox="0 0 24 24" fill="currentColor" data-v-d14269a1><path d="M17 10.5V7a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h12a1 1 0 001-1v-3.5l4 2v-7l-4 2z" data-v-d14269a1></path></svg></div><h1 class="login-title" data-v-d14269a1>CITY 4C</h1><p class="login-subtitle" data-v-d14269a1>Painel Administrativo</p></div>',1)),s("form",{onSubmit:M(C,["prevent"]),class:"login-form"},[s("div",R,[a[3]||(a[3]=s("label",{for:"email",class:"form-label"},"Email",-1)),v(s("input",{id:"email","onUpdate:modelValue":a[0]||(a[0]=c=>o.email=c),type:"email",class:g(["form-input",{"form-input--error":e.email}]),placeholder:"seu@email.com",required:"",disabled:n(r)},null,10,A),[[E,o.email]]),e.email?(i(),t("div",U,p(e.email),1)):m("",!0)]),s("div",$,[a[4]||(a[4]=s("label",{for:"password",class:"form-label"},"Senha",-1)),s("div",j,[v(s("input",{id:"password","onUpdate:modelValue":a[1]||(a[1]=c=>o.password=c),type:d.value?"text":"password",class:g(["form-input",{"form-input--error":e.password}]),placeholder:"••••••••",required:"",disabled:n(r)},null,10,F),[[L,o.password]]),s("button",{type:"button",class:"password-toggle",onClick:a[2]||(a[2]=c=>d.value=!d.value),disabled:n(r)},[(i(),t("svg",Q,[d.value?(i(),t("path",Y)):(i(),t("path",G))]))],8,H)]),e.password?(i(),t("div",J,p(e.password),1)):m("",!0)]),s("button",{type:"submit",class:"submit-button",disabled:n(r)||!o.email||!o.password},[n(r)?(i(),t("div",O)):m("",!0),s("span",null,p(n(r)?"Entrando...":"Entrar"),1)],8,K),e.general?(i(),t("div",W,p(e.general),1)):m("",!0)],32),s("div",X,[s("p",null,[a[6]||(a[6]=f(" Não tem uma conta? ",-1)),S(y,{to:"/register",class:"register-link"},{default:B(()=>a[5]||(a[5]=[f("Criar conta",-1)])),_:1,__:[5]})])]),a[8]||(a[8]=s("div",{class:"mvp-notice"},[s("div",{class:"mvp-notice__icon"},[s("svg",{viewBox:"0 0 24 24",fill:"currentColor"},[s("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})])]),s("div",null,[s("h3",null,"Versão MVP"),s("p",null,"Qualquer pessoa pode criar uma conta de teste para explorar o sistema.")])],-1))])])])}}}),as=I(Z,[["__scopeId","data-v-d14269a1"]]);export{as as default};
